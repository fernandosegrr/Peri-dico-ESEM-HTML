<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Edición especial histórica sobre movimientos sociales en México: crónicas, imágenes y reflexiones de 1958-1968.">
    <meta name="theme-color" content="#1a1a1a">
    <title>La Crónica Inquieta - Movimientos Sociales en México</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Libre+Baskerville:wght@400;700&family=Crimson+Text:wght@400;600;700&family=Old+Standard+TT:wght@400;700&display=swap" rel="stylesheet">
    <!-- Favicon/logo de la cabecera (se muestra en la pestaña del navegador) -->
    <link rel="icon" type="image/png" href="https://files.catbox.moe/hfgl6b.png">
    <link rel="apple-touch-icon" href="https://files.catbox.moe/hfgl6b.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #f5f5dc radial-gradient(circle, rgba(0,0,0,0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            font-family: 'Crimson Text', serif;
            color: #222;
            line-height: 1.8;
            padding: 0;
            min-height: 100vh;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 10px;
            background: #fff;
            color: #1a1a1a;
            padding: 8px 12px;
            z-index: 1000;
            border: 2px solid #1a1a1a;
            border-radius: 4px;
            transition: top 0.2s ease;
        }

        .skip-link:focus {
            top: 10px;
        }

        .newspaper-container {
            max-width: 1200px;
            margin: 0 auto;
            background: #fff8e1 url('https://www.transparenttextures.com/patterns/paper.png') repeat;
            /* Sombra más realista y sutil, no exagerada */
            box-shadow: 0 4px 6px rgba(0,0,0,0.10), 0 10px 20px rgba(0,0,0,0.10);
            border: 2px solid #1a1a1a;
            filter: contrast(1.02) brightness(1.01);
        }

        .newspaper-container.is-notas-active {
            margin-left: 0;
            margin-right: auto;
        }

        @media (min-width: 1520px) {
            .newspaper-container.is-notas-active {
                margin-right: 320px;
            }
        }

        header {
            text-align: center;
            padding: 30px 20px;
            border-bottom: 3px solid #1a1a1a;
            background: linear-gradient(to bottom, #fff, #fff8e1);
            position: relative;
        }

        .subtitle {
            font-size: 0.75rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 15px;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 900;
            letter-spacing: -1px;
            line-height: 1.1;
            color: #1a1a1a;
            margin: 20px 0;
            text-shadow: 2px 2px 0 rgba(200,200,200,0.3);
        }

        .ornament {
            width: 100px;
            height: 3px;
            background: #1a1a1a;
            margin: 15px auto;
        }

        .tagline {
            font-style: italic;
            color: #888;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .date-info {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #ccc;
            font-size: 0.75rem;
            color: #555;
        }

        .news-ticker {
            background: #a91d21;
            color: white;
            padding: 5px 0;
            overflow: hidden;
            margin-top: 10px;
        }

        .ticker-content {
            white-space: nowrap;
            animation: scrollTicker 30s linear infinite;
            font-size: 0.9rem;
        }

        @keyframes scrollTicker {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .date-info span {
            flex: 1 1 auto;
            text-align: center;
            min-width: 100px;
        }

        main {
            padding: 30px 20px;
            /* Asegurar que el área principal muestre la textura del papel de forma pareja */
            background: transparent;
        }

        .tab-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin: 30px auto 10px;
            padding-bottom: 12px;
            border-bottom: 2px solid #1a1a1a;
            justify-content: center;
            max-width: 1020px;
        }

        .tab-button {
            background: #fff8e1;
            border: 2px solid #1a1a1a;
            color: #1a1a1a;
            padding: 6px 12px;
            font-family: 'Old Standard TT', serif;
            font-size: 0.78rem;
            letter-spacing: 0.9px;
            text-transform: uppercase;
            cursor: pointer;
            transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
            flex: 0 0 auto;
            white-space: nowrap;
        }

        .tab-button:hover:not(.is-active) {
            background: #1a1a1a;
            color: #fff;
        }

        .tab-button.is-active {
            background: #a91d21;
            color: #fff;
            transform: translateY(-2px);
        }

        .tab-button:focus-visible {
            outline: 2px solid #a91d21;
            outline-offset: 3px;
        }

        .tab-panels {
            padding-top: 20px;
        }

        .tab-panel {
            display: none;
            width: 100%;
        }

        .tab-panel[hidden] {
            display: none !important;
        }

        .tab-panel.is-active {
            display: block;
        }

        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 36px;
            padding: 0 20px 40px;
        }

        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) > * {
            width: 100%;
            max-width: 960px;
            margin: 0 auto;
        }

        .tab-panel.is-active[data-tab="ocio"] > * {
            max-width: 1040px;
        }

        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) .column-content,
        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) .analysis-content,
        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) .reportage-content,
        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) .activity-section,
        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) .footer-content,
        .tab-panel.is-active[data-tab]:not([data-tab="notas"]) .footer-bottom {
            width: 100%;
        }

        .article-grid {
            display: flex;
            flex-direction: column;
            gap: 60px; /* Aumentado para dar más aire entre secciones */
        }

        .article {
            background: white;
            border: 1px solid #ddd;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .article:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .article-year {
            background: #a91d21;
            color: white;
            padding: 6px 16px;
            font-size: 1rem;
            font-weight: bold;
            display: inline-block;
            letter-spacing: 2px;
            animation: stampIn 0.8s ease-out;
        }

        @keyframes stampIn {
            0% { opacity: 0; transform: scale(0.5) rotate(-10deg); }
            100% { opacity: 1; transform: scale(1) rotate(0deg); }
        }

        .article-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
                /* Grayscale + sutil sepia para aspecto envejecido; no cambios de transform que rompan el look */
                filter: grayscale(70%) sepia(14%) contrast(1.02);
            transition: filter 0.5s ease, transform 0.3s ease;
            cursor: pointer;
        }

        .article:hover .article-image {
            filter: grayscale(0%) contrast(1);
            transform: scale(1.05);
        }

        .article-content {
            padding: 25px 20px;
        }

        .article-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            /* Sepia sutil para envejecer la foto; sin transformaciones en hover */
                filter: grayscale(70%) sepia(14%) contrast(1.02);
            transition: filter 0.25s ease;
            cursor: pointer;
        }

        .article-figure {
            margin: 0;
            position: relative;
            display: block;
            width: 100%;
        }

        .article-caption {
            margin: 0;
            font-family: 'Crimson Text', serif;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.95);
            text-align: center;
            line-height: 1.4;
            pointer-events: none; /* permitir clic en la imagen debajo para el modal */
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 10px 12px;
            background: linear-gradient(180deg, rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.65) 100%);
            backdrop-filter: blur(2px);
            z-index: 3;
            text-shadow: 0 1px 2px rgba(0,0,0,0.6);
            box-sizing: border-box;
        }

        /* Evitar que el contenido adyacente (columna de texto) cubra la figura */
        .article-figure {
            overflow: hidden;
            z-index: 2;
        }

        .article-content {
            position: relative;
            z-index: 1;
        }

        /* Mejor encuadre de las imágenes al recortar: centramos hacia la parte superior */
        .featured-article .article-image {
            object-position: center top;
        }

        /* Caption específico para el artículo de médicos: texto oscuro sobre fondo claro
           se fuerza color distinto para máxima legibilidad en esa imagen */
        .caption-medicos {
            color: rgba(10,10,10,0.9) !important;
            background: linear-gradient(180deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.6) 100%);
            text-shadow: none;
            pointer-events: none;
        }

        .article:hover .article-image {
            filter: grayscale(0%) sepia(8%) contrast(1.05);
        }

        /* Forzar que las imágenes destacadas no excedan el ancho del contenedor */
        .article-image {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* Reglas iniciales de galería (neutras) - no forzar tamaño para evitar conflicto con el grid responsive
           El estilo completo y responsive se declara más abajo y toma precedencia. */
        .gallery {
            display: block;
            margin: 20px 0;
            padding: 0;
        }

        .gallery .gallery-item {
            width: auto;
            max-width: none;
            background: rgba(255,248,225,0.9);
            border: 1px dashed rgba(26,26,26,0.08);
            padding: 6px;
            text-align: center;
            box-sizing: border-box;
        }

        .gallery .gallery-item img {
            width: 100%;
            height: auto;
            display: block;
        }

        .article-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #a91d21;
            transition: width 0.3s ease;
        }

        .article-title:hover::after {
            width: 100%;
        }

        .article-subtitle {
            font-size: 1rem;
            color: #333;
            font-weight: 700;
            line-height: 1.4;
            margin-bottom: 20px;
            border-left: 4px solid #a91d21;
            padding-left: 15px;
        }

        .article-author {
            font-size: 0.9rem;
            color: #6b6b6b;
            margin-top: 6px;
            margin-bottom: 14px;
            font-style: italic;
        }

        .article-text {
            font-size: 0.9rem;
            line-height: 1.8;
            color: #444;
            text-align: justify;
        }

        .article-text p {
            margin-bottom: 15px;
        }

        .article-text strong {
            color: #1a1a1a;
        }

        .article-text p:first-child::first-letter {
            font-size: 3em;
            float: left;
            margin-right: 0.1em;
            line-height: 0.8;
            font-family: 'Old Standard TT', serif;
        }

        footer {
            /* Mostrar la textura del contenedor para un fondo parejo y vintage */
            background: transparent;
            box-shadow: none;
            border-top: 1px solid rgba(169,29,33,0.06);
            padding: 40px 20px;
        }

        footer h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.3rem;
            text-align: center;
            color: #a91d21;
            margin: 32px 0 18px 0;
            letter-spacing: 1px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        @media (max-width: 900px) {
            .footer-content {
                display: flex;
                flex-direction: column;
                gap: 30px;
            }
            .special-edition-stamp {
                top: 10px;
                right: 10px;
                transform: rotate(-6deg);
            }
            .ads-section {
                display: flex;
                max-width: 100%;
                margin: 30px auto 0 auto;
                flex-direction: column;
                gap: 20px;
            }
            .ad-box {
                width: 100%;
                margin: 0 auto;
            }
            .wordsearch {
                flex-direction: column;
                align-items: center;
                flex-wrap: wrap;
            }
            .wordsearch-grid {
                grid-template-columns: repeat(13, minmax(24px, 34px));
            }
            .wordsearch-wordlist {
                width: 100%;
                max-width: 420px;
                flex: 0 0 auto;
            }
        }

        @media (max-width: 600px) {
            .newspaper-container {
                max-width: 100vw;
                border-width: 1px;
                box-shadow: none;
            }
            header {
                padding: 20px 5px;
            }
            .special-edition-stamp {
                position: static;
                display: inline-block;
                margin: 12px auto 0 auto;
                transform: none;
                font-size: 0.85rem;
                padding: 6px 16px;
                border-width: 1px;
            }
            h1 {
                font-size: 2rem;
            }
            main {
                padding: 10px 5px;
            }
            .article-title {
                font-family: 'Playfair Display', serif;
                font-size: 1.8rem;
                font-weight: 900;
                color: #a91d21;
            }
            .article-content {
                padding: 10px 5px;
            }
            .article-title {
                font-size: 1.2rem;
                content: "◆";
                color: #a91d21;
                font-size: 0.9rem;
                padding-left: 8px;
            }
            .activity-section {
                padding: 10px 5px;
            }
            .match-activity {
                grid-template-columns: 1fr;
                gap: 10px;
                padding: 10px 5px;
            }
            .ads-section {
                max-width: 100%;
                margin: 20px auto 0 auto;
                gap: 10px;
            }
            .ad-box {
                padding: 15px 8px;
                font-size: 0.85rem;
            }
            footer {
                padding: 20px 5px;
            }
            .footer-bottom {
                margin-top: 20px;
                padding-top: 15px;
            }
            .wordsearch-grid {
                grid-template-columns: repeat(13, minmax(20px, 28px));
            }
            .ws-cell {
                height: 32px;
                font-size: 0.82rem;
            }
            .wordsearch-wordlist {
                padding: 14px;
            }
        }
        }

        /* Hacemos la actividad plana: eliminamos la caja visual vermiculada */
        .activity-section {
            background: transparent; /* vive sobre el papel del periódico */
            box-shadow: none;
            border-radius: 0;
            padding: 0 0 20px 0;
            max-width: 100%;
            margin: 0 0 16px 0;
            border: none;
        }

        .activity-section h3 {
            color: #a91d21;
            text-align: center;
            font-size: 1.7rem;
            margin-bottom: 18px;
            font-family: 'Playfair Display', serif;
            letter-spacing: 1px;
        }

        .activity-section > p {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 22px auto;
            color: #555;
            font-size: 1.13rem;
            font-family: 'Crimson Text', serif;
        }

        .activity-wrap {
            position: relative;
            background: transparent; /* sin cajas internas */
            border-radius: 0;
            box-shadow: none;
            padding: 0;
            max-width: 100%;
            margin: 0 auto;
            border: none;
        }

        .match-activity {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 24px;
            align-items: start;
            padding: 12px 0;
            background: transparent;
            border: none;
            border-radius: 0;
            box-shadow: none;
            max-width: 900px;
            margin: 0 auto;
        }

        .match-column {
            background: transparent;
            padding: 10px;
        }

        .match-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .match-item {
            background: transparent;
            border: 1px dashed #555;
            padding: 12px 16px;
            border-radius: 0; /* sin redondeo */
            cursor: pointer;
            user-select: none;
            font-weight: 600;
            color: #1a1a1a;
            transition: background 0.08s ease;
            font-size: 1rem;
            box-shadow: none;
            text-align: left;
        }

        .match-item.selected {
            background: #eaeaea; /* sutil gris */
            border-style: solid;
            border-color: #555;
            transform: none; /* no escalado */
            box-shadow: none;
        }

        .match-item.matched {
            opacity: 1;
            background: transparent;
            font-weight: 700; /* marcar correcto en negritas */
            text-decoration: underline;
            border: 1px dashed #555;
        }

        .match-target {
            background: transparent;
            border: 1px dashed #555;
            padding: 12px 16px;
            border-radius: 0;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: left;
            color: #1a1a1a;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: none;
        }

        .match-target.correct {
            border-style: dashed;
            border-color: #555;
            background: transparent;
            color: #1a1a1a;
            font-weight: 700;
            text-decoration: underline;
        }

        .match-target.incorrect {
            border-color: #e35b5b;
            background: transparent;
            color: #a91d21;
        }

        .match-controls {
            margin-top: 22px;
            display: flex;
            gap: 18px;
            justify-content: center;
        }

        .btn {
            background: transparent;
            color: #1a1a1a;
            padding: 8px 16px;
            border-radius: 0;
            border: 1px solid #555;
            cursor: pointer;
            font-weight: 700;
            font-family: 'Crimson Text', serif;
            font-size: 0.82rem;
            transition: background 0.08s ease;
            box-shadow: none;
        }

        .btn:hover {
            background: #eaeaea;
        }

        .btn.secondary {
            background: transparent;
            color: #1a1a1a;
            border: 1px solid #555;
            box-shadow: none;
        }

        .btn.secondary:hover {
            background: #eaeaea;
        }

        .match-svg {
            position: absolute;
            left: 0;
            top: 0;
            pointer-events: none;
            width: 100%;
            height: 100%;
        }

        .game-block {
            margin-bottom: 32px;
            padding: 18px 22px;
            border: 1px solid rgba(26,26,26,0.25);
            background: rgba(255,248,225,0.65);
        }

        .game-block h4 {
            font-family: 'Playfair Display', serif;
            font-size: 1.35rem;
            color: #a91d21;
            text-align: center;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .game-block > p {
            text-align: center;
            max-width: 720px;
            margin: 0 auto 18px auto;
            font-size: 1.05rem;
            color: #4a4033;
        }

        .game-status {
            text-align: center;
            margin-top: 14px;
            min-height: 1.5rem;
            font-style: italic;
            color: #a91d21;
        }

        .wordsearch {
            display: flex;
            flex-wrap: nowrap;
            justify-content: center;
            align-items: stretch;
            gap: 32px;
        }

        .wordsearch-grid {
            display: grid;
            grid-template-columns: repeat(13, minmax(26px, 40px));
            gap: 4px;
            justify-content: center;
            justify-self: stretch;
            width: 100%;
            max-width: none;
            user-select: none;
            touch-action: none;
        }

        .ws-cell {
            width: 100%;
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(26,26,26,0.3);
            background: rgba(255,252,240,0.9);
            color: #1a1a1a;
            font-family: 'Crimson Text', serif;
            font-size: 1.05rem;
            font-weight: 600;
            text-transform: uppercase;
            cursor: pointer;
            transition: background 0.2s ease, border-color 0.2s ease;
            user-select: none;
        }

        .ws-cell:focus {
            outline: 2px solid rgba(169,29,33,0.45);
            outline-offset: -2px;
        }

        .ws-cell.ws-preview {
            background: rgba(169,29,33,0.18);
            border-color: rgba(169,29,33,0.45);
        }

        .ws-cell.found {
            background: rgba(169,29,33,0.24);
            border-color: rgba(169,29,33,0.6);
            color: #1a1a1a;
        }

        .ws-cell.ws-error {
            animation: wsError 0.4s ease;
        }

        @keyframes wsError {
            0% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            50% { transform: translateX(3px); }
            75% { transform: translateX(-3px); }
            100% { transform: translateX(0); }
        }

        .wordsearch-wordlist {
            min-width: 240px;
            max-width: 320px;
            flex: 0 0 260px;
            display: flex;
            flex-direction: column;
            background: rgba(255,252,235,0.85);
            border: 1px solid rgba(26,26,26,0.2);
            padding: 16px 18px;
        }

        .wordsearch-wordlist h5 {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            color: #a91d21;
            margin-bottom: 10px;
        }

        .wordsearch-wordlist ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            gap: 8px;
            flex: 1 1 auto;
        }

        .quiz-block {
            display: flex;
            flex-direction: column;
            gap: 18px;
            width: 100%;
        }

        .quiz-question {
            border: 1px solid rgba(26,26,26,0.25);
            background: rgba(255,252,235,0.85);
            padding: 14px 16px;
        }

        .quiz-question legend {
            font-family: 'Playfair Display', serif;
            font-size: 1.05rem;
            color: #a91d21;
            margin-bottom: 10px;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
        }

        .quiz-option {
            display: flex;
            gap: 10px;
            align-items: flex-start;
            border: 1px dashed rgba(26,26,26,0.35);
            padding: 8px 10px;
            cursor: pointer;
            transition: background 0.2s ease, border-color 0.2s ease;
        }

        .quiz-option input {
            margin-top: 4px;
        }

        .quiz-option:hover {
            border-color: #a91d21;
        }

        .quiz-option.correct {
            border-color: rgba(61,153,112,0.6);
            background: rgba(61,153,112,0.22);
        }

        .quiz-option.wrong {
            border-color: rgba(169,29,33,0.6);
            background: rgba(169,29,33,0.1);
        }

        .quiz-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 10px;
        }

        .ads-section {
            display: flex;
            flex-direction: column;
            gap: 24px;
            align-self: stretch;
            width: 100%;
            max-width: 320px;
            margin: 0;
        }

        .ad-box {
            background: linear-gradient(135deg, rgba(255,245,214,0.95), rgba(240,226,192,0.95));
            border: 2px solid rgba(26,26,26,0.45);
            box-shadow: 0 6px 18px rgba(0,0,0,0.18);
            padding: 18px 16px;
            text-align: center;
            position: relative;
        }

        .ad-box::after {
            content: '';
            position: absolute;
            inset: 10px;
            border: 1px dashed rgba(26,26,26,0.35);
            pointer-events: none;
        }

        .ad-box h4 {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: #a91d21;
            letter-spacing: 1px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .ad-box strong {
            font-family: 'Old Standard TT', serif;
            font-size: 1.1rem;
        }

        .ad-box p {
            font-size: 0.98rem;
            line-height: 1.4;
        }


        .wordsearch-wordlist li {
            font-family: 'Crimson Text', serif;
            font-size: 1rem;
            color: #333;
        }

        .wordsearch-wordlist li.found {
            text-decoration: line-through;
            color: #a91d21;
            font-weight: 600;
        }

        .wordsearch-actions {
            margin-top: 16px;
            display: flex;
            justify-content: center;
        }

        .wordsearch-wordlist ul {
            flex: 1 1 auto;
        }


        .ads-section {
            display: flex;
            flex-direction: column;
            gap: 24px;
            max-width: 400px;
            margin: 30px auto 0 auto;
        }

        .ad-box {
            background: #f7f7f7;
            padding: 20px 18px;
            text-align: center;
            border: 1px solid #a91d21;
            border-radius: 0;
            transition: none;
            box-shadow: none;
        }

        .ad-box:hover {
            transform: none;
            box-shadow: none;
        }

        .ad-box h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: #a91d21;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .ad-box p {
            color: #444;
            font-size: 1rem;
            line-height: 1.7;
            font-family: 'Crimson Text', serif;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 40px;
            /* Aumentamos el padding-top para dejar espacio debajo de la línea divisoria
               y así colocar los créditos sin superponer la cita central */
            padding-top: 72px;
            border-top: 1px solid #a91d21;
            position: relative; /* para posicionar el bloque de créditos en relación al footer */
            min-height: 140px;
            padding-bottom: 30px; /* espacio extra para que los créditos no toquen el borde inferior */
        }

        .footer-bottom p {
            /* Queremos un aspecto pálido/translúcido coherente con la estética del papel */
            color: rgba(26,26,26,0.45); /* gris muy pálido */
            font-size: 0.82rem;
            margin: 10px 0;
            font-weight: 400;
            opacity: 70; /* ligera traslucidez */
            mix-blend-mode: normal;
        }

        /* Cita del footer con aspecto pálido pero legible */
        .footer-quote {
            color: rgba(169,29,33,0.38); /* rojo pálido */
            margin-bottom: 15px;
            font-style: italic;
            font-weight: 400;
            opacity: 0.85;
            mix-blend-mode: normal;
        }

        /* Hacer pálido también el bloque de créditos para que combine con la cita */
        .credit-block,
        .credit-block * {
            color: rgba(26,26,26,0.45) !important;
            opacity: 0.85 !important;
        }

        .credit-block .team-list {
            line-height: 1.35;
            /* Reducimos el tamaño de letra para que la lista quepa sin generar scroll */
            font-size: 0.72rem;
        }

        /* Posicionar el bloque de créditos en la esquina inferior izquierda del footer */
.credit-block {
            position: static;
            max-width: 360px;
            margin: 20px auto 0 auto;
            text-align: center;
            background: transparent;
            padding: 6px 0;
            box-sizing: border-box;
        }

        @media (min-width: 1200px) {
            .credit-block {
                position: absolute;
                left: 40px;
                top: 10px; /* posicionar justo debajo de la l�nea divisoria */
                bottom: 16px; /* aseguramos l�mite inferior dentro del footer */
                margin: 0;
                text-align: left;
            }
        }

        /* Responsive: en pantallas pequeñas colocarlo debajo (estructura en columna) */
        @media (max-width: 700px) {
            .credit-block {
                position: static;
                max-width: 100%;
                margin: 12px auto 0 auto;
                text-align: left;
            }
            .footer-bottom {
                padding-bottom: 18px;
                /* reducir el padding superior en móviles para ahorrar espacio */
                padding-top: 28px;
            }
            .match-svg {
                display: none !important;
            }
            /* En móviles el caption vuelve a mostrarse debajo para no tapar la imagen */
            .article-caption {
                position: static;
                background: transparent;
                color: rgba(26,26,26,0.6);
                padding: 8px 0 0 0;
            }
        }
            margin-top: 18px;
            border-top: 1px dashed rgba(26,26,26,0.06);
            padding-top: 14px;
            /* Forzar color sólido y opacidad plena para igualar la densidad visual */
            color: #1a1a1a;
            opacity: 1;
            mix-blend-mode: normal;
            font-size: 0.92rem;
            text-align: center;
            line-height: 1.4;
            font-family: 'Crimson Text', 'Libre Baskerville', serif;
        }

        .credit-block .team-list {
            display: inline-block;
            text-align: left;
            margin-top: 8px;
            /* Asegurar formato uniforme con el resto del documento */
            color: #1a1a1a;
            font-size: 1rem;
            line-height: 1.6;
            font-weight: 600;
            letter-spacing: 0.2px;
            font-family: 'Crimson Text', serif;
            margin-left: 6px;
        }

        /* Hacer que cada línea de datos use el mismo estilo (color/tamaño) */
        /* Forzar que título y líneas del bloque luzcan exactamente igual */
        /* Forzar estilo uniforme en todo el bloque de créditos: misma familia y peso
           Queremos evitar variaciones (Playfair/Playfair bold) y mantener una densidad visual pareja. */
        .credit-block,
        .credit-block * {
            font-family: 'Crimson Text', 'Libre Baskerville', serif !important;
            font-weight: 400 !important;
            color: #1a1a1a !important;
            opacity: 1 !important;
            mix-blend-mode: normal !important;
        }

        /* Ajustes adicionales de espaciado para las líneas de la lista de equipo */
        .credit-block .team-list {
            line-height: 1.4;
            font-size: 0.82rem;
        }

        .footer-quote {
            color: #a91d21;
            margin-bottom: 15px;
            font-style: italic;
        }

        .special-edition-stamp {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #a91d21;
            color: white;
            padding: 10px 20px;
            transform: rotate(-10deg);
            font-weight: bold;
            border: 2px solid #fff;
            font-family: 'Playfair Display', serif;
        }

        .stain {
            position: absolute;
            top: 50px;
            left: 100px;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, rgba(139,69,19,0.1) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
        }

        .modal-content {
            margin: auto;
            display: block;
            max-width: 80%;
            max-height: 80%;
            margin-top: 50px;
            object-fit: contain; /* mantener proporciones dentro del modal */
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .shake {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes drawLine {
            to {
                stroke-dashoffset: 0;
            }
        }

        .article {
            animation: fadeIn 0.8s ease-out;
        }

        @media (min-width: 768px) {
            body {
                padding: 40px 20px;
            }

            header {
                padding: 50px 40px;
            }

            h1 {
                font-size: 4rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .date-info {
                font-size: 0.9rem;
            }

            main {
                padding: 50px 40px;
            }

            .article-grid {
                gap: 50px;
            }

            .article-image {
                height: 350px;
            }

            .article-content {
                padding: 35px 30px;
            }

            .article-title {
                font-size: 2.5rem;
            }

            .article-subtitle {
                font-size: 1.2rem;
            }

            .article-text {
                font-size: 1rem;
            }

            footer {
                padding: 50px 40px;
            }

            footer h2 {
                font-size: 2.5rem;
            }

        }

        @media (min-width: 900px) {
        }

        @media (min-width: 1024px) {
            h1 {
                font-size: 6rem;
            }

            .featured-article {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0;
            }

            .featured-article .article-image {
                height: 100%;
                min-height: 450px;
            }

            /* Evitar que la imagen llene toda la columna y oculte el figcaption
               Forzamos un max-height y permitimos que el caption quede visible debajo */
            /* Hacer que la figura llene la columna; la imagen cubrirá esa altura
               Esto evita huecos en blanco cuando la columna de texto es más alta */
            .featured-article .article-figure {
                display: block;
                height: 100%;
            }

            .featured-article .article-figure .article-image {
                width: 100%;
                height: 100%;
                max-height: none;
                object-fit: cover;
                display: block;
            }

            .article-caption {
                color: rgba(26,26,26,0.65);
            }

            .featured-article.reverse {
                direction: rtl;
            }

            .featured-article.reverse > * {
                direction: ltr;
            }

            .article-title {
                font-size: 3rem;
            }

            .footer-content {
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 40px;
                align-items: start;
            }

            .ads-section {
                margin-top: 0;
            }
        }
        /* ==================== ESTILOS PARA NUEVAS SECCIONES ==================== */

        /* Etiquetas de género */
        .genre-tag {
            background: #a91d21;
            color: white;
            padding: 6px 16px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            letter-spacing: 1px;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        /* REPORTAJE */
        .reportage-special {
            background: #fff8e1;
            padding: 40px 30px;
            border: 2px solid #1a1a1a;
        }

        .lead-paragraph {
            font-size: 1.15rem;
            font-weight: 600;
            line-height: 1.9;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(169,29,33,0.05);
            border-left: 4px solid #a91d21;
        }

        .timeline-section {
            margin: 40px 0;
        }

        .timeline-section h3 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: #a91d21;
            margin-bottom: 25px;
            text-align: center;
        }

        .timeline-item {
            margin: 25px 0;
            padding: 20px;
            border-left: 3px solid #a91d21;
            background: white;
        }

        .timeline-year {
            display: inline-block;
            background: #1a1a1a;
            color: white;
            padding: 4px 12px;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .pattern-analysis {
            margin: 40px 0;
            padding: 25px;
            background: white;
            border: 1px solid #ddd;
        }

        .pattern-analysis h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: #a91d21;
            margin-bottom: 20px;
        }

        .data-box {
            background: #1a1a1a;
            color: white;
            padding: 25px;
            margin: 30px 0;
        }

        .data-box h4 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #fff;
        }

        .data-box ul {
            list-style: none;
            line-height: 1.9;
        }

        /* ENTREVISTA */
        .interview-feature {
            background: white;
            padding: 40px 30px;
            border: 2px solid #a91d21;
        }

        .interview-intro {
            font-style: italic;
            font-size: 1.05rem;
            margin: 25px 0;
            padding: 20px;
            background: rgba(169,29,33,0.05);
            border-left: 4px solid #a91d21;
        }

        .interview-content {
            margin: 30px 0;
        }

        .question {
            margin: 25px 0 10px 0;
        }

        .q-label {
            font-weight: bold;
            color: #a91d21;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 8px;
        }

        .question p {
            font-weight: 600;
            font-size: 1.05rem;
            color: #1a1a1a;
        }

        .answer {
            margin: 10px 0 25px 30px;
            padding-left: 20px;
            border-left: 2px solid #ddd;
        }

        .a-label {
            font-weight: bold;
            color: #1a1a1a;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 8px;
        }

        .answer p {
            font-size: 1rem;
            line-height: 1.8;
            color: #333;
        }

        .interview-note {
            margin-top: 40px;
            padding: 20px;
            background: #f5f5f5;
            border-top: 2px solid #a91d21;
            font-size: 0.82rem;
            color: #666;
        }

        /* COLUMNA LATERAL */
        .column-opinion {
            background: #fff8e1;
            padding: 30px 20px;
            border-left: 6px solid #a91d21;
            overflow: visible; /* no internal scrollbar, columna en el flujo del artículo */
            box-shadow: none;
            position: static;
            width: 100%;
            max-width: 900px;
            margin: 40px auto 0 auto;
            z-index: 10;
        }

        .column-opinion .genre-tag {
            position: sticky;
            top: 0;
            background: #a91d21;
            z-index: 10;
            margin: -30px -20px 20px -20px;
            padding: 8px 20px;
        }

        .columnist-name {
            font-style: italic;
            font-size: 0.82rem;
            color: #666;
            margin: 10px 0 20px 0;
        }

        .column-content {
            font-size: 0.82rem;
            line-height: 1.7;
        }

        .column-content p {
            margin-bottom: 15px;
            text-align: justify;
            font-size: 0.9rem;
        }

        .column-opinion .article-title.column-title-small {
            font-size: 2rem;
            letter-spacing: 0.08em;
        }

        @media (min-width: 1520px) {
            .column-opinion {
                position: absolute;
                width: 280px;
                max-width: none;
                margin: 0;
                box-shadow: -4px 0 12px rgba(0,0,0,0.15);
            }
        }

        @media (max-width: 768px) {
            .reportage-special,
            .interview-feature,
            .column-opinion,
            .analysis-piece {
                padding: 20px 15px;
            }
            
            .answer {
                margin-left: 10px;
                padding-left: 15px;
            }
            
            .timeline-item {
                padding: 15px;
            }
            /* En móviles la columna lateral vuelve al flujo normal (artículo) */
            .column-opinion {
                position: static !important;
                width: 100% !important;
                height: auto !important;
                border-left: 6px solid #a91d21;
                border-right: 6px solid #a91d21;
                box-shadow: none !important;
                overflow: visible !important;
            }

            .newspaper-container {
                margin-right: auto !important;
            }
        }
    </style>
    <style>
        /* Galería: responsive y más grande; auto-fit rellena el espacio disponible */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
            gap: 16px;
            justify-items: stretch;
            align-items: stretch;
            width: 100%;
            max-width: 1200px; /* permite imágenes más grandes en pantallas anchas */
            margin: 24px auto 32px;
            padding: 0 12px;
            box-sizing: border-box;
        }

        .gallery-item {
            width: 100%;
            aspect-ratio: 4 / 3; /* proporción uniforme */
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.06);
            background: #f2f2f2;
            display: block;
        }

        .gallery-image {
            width: 100%;
            height: 100%;
            object-fit: cover; /* recorte uniforme centrado */
            display: block;
            cursor: pointer;
        }

        /* Ajustes para pantallas pequeñas: minmax asegura que las miniaturas sigan siendo legibles */
        @media (max-width: 900px) {
            .gallery { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; }
        }

        @media (max-width: 600px) {
            .gallery { grid-template-columns: 1fr; gap: 12px; padding: 0 8px; }
        }

        /* Leyendas para las imágenes de galería */
        .gallery-item figure {
            margin: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .gallery-image {
            width: 100%;
            height: auto;
            flex: 1 1 auto;
            display: block;
            object-fit: cover;
        }

        .gallery-caption {
            font-family: 'Crimson Text', serif;
            font-size: 0.95rem;
            color: #1a1a1a;
            text-align: center;
            padding: 8px 10px;
            background: transparent;
        }

        /* Evita que el texto se pegue a los márgenes: padding uniforme para los paneles y artículos */
        .tab-panel .column-content,
        .article .article-content,
        .article .reportage-content,
        .article .interview-content,
        .article .analysis-content,
        .article .column-content {
            padding: 20px 28px;
            box-sizing: border-box;
            /* background no cambiado: solo garantizamos el espaciado interior */
        }

        /* Ajuste en pantallas pequeñas para no consumir demasiado espacio */
        @media (max-width: 768px) {
            .tab-panel .column-content,
            .article .article-content,
            .article .reportage-content,
            .article .interview-content,
            .article .analysis-content,
            .article .column-content {
                padding: 12px 14px;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Saltar al contenido</a>
    
    <div class="newspaper-container is-notas-active">
        <header>
            <p class="subtitle">Edición Especial Histórica</p>
            <h1>LA CRÓNICA INQUIETA</h1>
            <div class="special-edition-stamp">EDICIÓN ESPECIAL</div>
            <div class="ornament"></div>
            <p class="tagline">El Pulso de una Nación en Transformación</p>
            <div class="date-info">
                <span>Año X, Número 365</span>
                <span>Ciudad de México</span>
                <span>Otoño de 1968</span>
                <span>Precio: $2.50 MXN</span>
                <span>Ejemplares: 50,000</span>
            </div>
            <div class="stain"></div>
            <div class="news-ticker">
                <div class="ticker-content">NOTICIAS BREVE: Movimiento estudiantil crece en todo el país... | Gobierno responde con represión... | Olimpiadas de 1968 en riesgo... | Vallejo paraliza ferrocarriles... | Maestros exigen democracia sindical...</div>
            </div>
        </header>

        <main id="main-content">
            <nav class="tab-nav" role="tablist" aria-label="Secciones del periódico">
                <button class="tab-button is-active" type="button" role="tab" id="tab-button-notas" aria-controls="tab-notas" aria-selected="true" data-tab="notas" tabindex="0">Notas</button>
                <button class="tab-button" type="button" role="tab" id="tab-button-reportaje" aria-controls="tab-reportaje" aria-selected="false" data-tab="reportaje" tabindex="-1">Gran Reportaje</button>
                <button class="tab-button" type="button" role="tab" id="tab-button-entrevista" aria-controls="tab-entrevista" aria-selected="false" data-tab="entrevista" tabindex="-1">Entrevista</button>
                <button class="tab-button" type="button" role="tab" id="tab-button-cronicas" aria-controls="tab-cronicas" aria-selected="false" data-tab="cronicas" tabindex="-1">Crónicas y Voces</button>
                <button class="tab-button" type="button" role="tab" id="tab-button-contexto" aria-controls="tab-contexto" aria-selected="false" data-tab="contexto" tabindex="-1">Contexto y Fuentes</button>
                <button class="tab-button" type="button" role="tab" id="tab-button-ocio" aria-controls="tab-ocio" aria-selected="false" data-tab="ocio" tabindex="-1">Ocio y Clasificados</button>
            </nav>

            <div class="tab-panels">
                <section class="tab-panel is-active" id="tab-notas" role="tabpanel" aria-labelledby="tab-button-notas" data-tab="notas" tabindex="0">
                    <div class="article-grid">
                        <!-- Movimiento Estudiantil 1968 -->
                        <article class="article featured-article">
                            <figure class="article-figure">
                                <img loading="lazy" src="https://files.catbox.moe/5n3q6l.jpg" alt="Manifestación estudiantil" class="article-image">
                                <figcaption class="article-caption">Manifestación estudiantil de 1968: clamor por libertad y diálogo.</figcaption>
                            </figure>
                            <div class="article-content">
                                <span class="article-year">1968</span>
                                <h2 class="article-title">¡BASTA YA!</h2>
                                <p class="article-subtitle">
                                    La juventud mexicana exige libertad y diálogo; el gobierno responde con autoritarismo
                                </p>
                                <p class="article-author">Por: Ana Gutiérrez</p>
                                <div class="article-text">
                                    <p><strong>CIUDAD DE MÉXICO.—</strong> Las calles de la capital son un clamor. Miles de estudiantes de la UNAM y el Instituto Politécnico Nacional, unidos en un frente común sin precedentes, marchan exigiendo el cese a la represión policial y la apertura de un diálogo público.</p>

                                    <p>Su pliego petitorio de seis puntos —que incluye la disolución del cuerpo de granaderos, la derogación del artículo 145, la liberación de presos políticos y la indemnización a las víctimas— ha puesto en jaque al gobierno de Díaz Ordaz a semanas de las Olimpiadas.</p>

                                    <p>El grito "¡Únete, pueblo!" resuena en cada rincón, transformando una riña entre preparatorias en el movimiento social más importante de la historia reciente.</p>
                                </div>
                            </div>
                        </article>

                        <!-- Movimiento Magisterial 1958 -->
                        <article class="article featured-article reverse">
                            <figure class="article-figure">
                                <img loading="lazy" src="https://files.catbox.moe/clz542.jpg" alt="Protesta de maestros" class="article-image">
                                <figcaption class="article-caption">Movimiento magisterial de 1958: demanda de democracia sindical.</figcaption>
                            </figure>
                            <div class="article-content">
                                <span class="article-year">1958</span>
                                <h2 class="article-title">El Pizarrón se Rebela</h2>
                                <p class="article-subtitle">
                                    Maestros exigen democracia sindical y salarios dignos
                                </p>
                                <p class="article-author">Por: Othón Salazar</p>
                                <div class="article-text">
                                    <p><strong>CIUDAD DE MÉXICO.—</strong> Liderados por Othón Salazar, miles de maestros de la Sección IX del SNTE han tomado el Zócalo capitalino. Hartos de la imposición y los bajos salarios, exigen un aumento salarial del 30% y el derecho a elegir a sus propios líderes.</p>

                                    <p>El gobierno minimiza sus demandas, pero la fuerza del magisterio en las calles demuestra una fractura profunda en el corporativismo sindical oficial que ha controlado al movimiento obrero mexicano.</p>

                                </div>
                            </div>
                        </article>

                        <!-- Movimiento Ferrocarrilero 1959 -->
                        <article class="article featured-article">
                            <figure class="article-figure">
                                <img loading="lazy" src="https://files.catbox.moe/0nqtn6.jpg" alt="Ferrocarril" class="article-image">
                                <figcaption class="article-caption">Huelga ferrocarrilera de 1959: paros y bloqueos en rutas clave.</figcaption>
                            </figure>
                            <div class="article-content">
                                <span class="article-year">1959</span>
                                <h2 class="article-title">Vías de Lucha</h2>
                                <p class="article-subtitle">
                                    Demetrio Vallejo paraliza el país en un desafío histórico
                                </p>
                                <p class="article-author">Por: Demetrio Vallejo</p>
                                <div class="article-text">
                                    <p><strong>NACIONAL.—</strong> El país se encuentra paralizado. El Sindicato de Trabajadores Ferrocarrileros, bajo el liderazgo de Demetrio Vallejo, ha iniciado paros escalonados que hoy culminan en huelga nacional.</p>

                                    <p>Exigen el cumplimiento de contratos laborales y la autonomía de su sindicato. La respuesta del presidente López Mateos ha sido brutal: encarcelamiento masivo de líderes y ocupación militar de instalaciones.</p>

                                    <p>El "milagro mexicano" se detiene sobre los rieles del descontento obrero.</p>
                                </div>
                            </div>
                        </article>

                        <!-- Movimiento Médico 1964 -->
                        <article class="article featured-article reverse">
                            <figure class="article-figure">
                                <img loading="lazy" src="https://files.catbox.moe/x94fw4.jpg" alt="Personal médico" class="article-image">
                                <figcaption class="article-caption caption-medicos">Protesta de médicos residentes (1964): condiciones y jornadas extenuantes.</figcaption>
                            </figure>
                            <div class="article-content">
                                <span class="article-year">1964</span>
                                <h2 class="article-title">Batas Blancas Alzan la Voz</h2>
                                <p class="article-subtitle">
                                    Médicos residentes denuncian condiciones precarias
                                </p>
                                <p class="article-author">Por: Dr. María López</p>
                                <div class="article-text">
                                    <p><strong>CIUDAD DE MÉXICO.—</strong> Quienes cuidan la salud de la nación hoy protestan por la suya. Médicos residentes e internos del Hospital 20 de Noviembre iniciaron un paro por la falta de pago de aguinaldos.</p>

                                    <p>La protesta ha escalado sumando a miles de doctores que denuncian jornadas de hasta 36 horas continuas, falta de insumos y salarios miserables. La Asociación Mexicana de Médicos Residentes e Internos se ha formado en medio de la lucha.</p>
                            </div>
                        </article>
                    </div>

                        <article class="article column-opinion">
                        <div class="genre-tag">✍️ COLUMNA</div>
                        <h2 class="article-title column-title-small">El Autoritarismo y Sus Máscaras</h2>
                        <p class="columnist-name">Por: Una Periodista Comprometida</p>

                        <div class="column-content">
                            <p class="drop-cap">
                                Dicen que México vive su "milagro económico". Que somos el orgullo de América Latina. Que nuestro sistema político es estable, moderno, democrático. Pero las balas que silenciaron a los estudiantes en Tlatelolco, los tanques que ocuparon Ciudad Universitaria, las celdas que guardan a Demetrio Vallejo desde hace casi una década, cuentan otra historia.
                            </p>

                            <p>
                                El gobierno de Díaz Ordaz, como antes el de López Mateos, ha respondido a cada demanda legítima con la misma receta autoritaria: primero, la negación; después, la difamación en los medios oficiales (comunistas, agitadores, enemigos de México); finalmente, la represión brutal.
                            </p>

                            <p>
                                Los maestros que pedían democracia sindical fueron reprimidos. Los ferrocarrileros que exigían autonomía fueron encarcelados. Los médicos que demandaban condiciones dignas fueron despedidos. Y ahora, los estudiantes que clamaban por libertad y diálogo fueron masacrados.
                            </p>

                            <p>
                                ¿Qué clase de democracia es esta, que no tolera la disidencia? ¿Qué clase de progreso es este, que se construye sobre la represión? El "milagro mexicano" tiene un precio oculto: el silencio forzado, la cárcel para quien piensa diferente, la muerte para quien se atreve a protestar.
                            </p>

                            <p>
                                Las autoridades hablan de orden, de estabilidad, de progreso. Pero nosotros preguntamos: ¿orden para quién? ¿Estabilidad de qué? ¿Progreso a costa de qué?
                            </p>

                            <p>
                                La sangre derramada en Tlatelolco no se borrará con comunicados oficiales ni cifras maquilladas. Los testimonios están ahí, las voces de los sobrevivientes, las fotografías que el gobierno no pudo censurar. La historia no se escribe solo desde Palacio Nacional. También se escribe desde las plazas, desde las cárceles, desde los hospitales donde se atiende a los heridos que "oficialmente" no existen.
                            </p>

                            <p>
                                México tiene dos caras: la del discurso oficial y la de la realidad vivida. Una habla de desarrollo y modernidad; la otra, de represión y miedo. Y entre ambas, crece una grieta que ningún tanque podrá cerrar: la conciencia de que otro México es posible, un México donde la voz del pueblo sea escuchada sin necesidad de gritos, sin necesidad de sangre.
                            </p>

                            <p class="column-closing">
                                <em>La historia, al final, la escriben los que luchan. No los que disparan.</em>
                            </p>
                        </div>

                                        </article>
                </section>

                <section class="tab-panel" id="tab-reportaje" role="tabpanel" aria-labelledby="tab-button-reportaje" data-tab="reportaje" tabindex="0" hidden>
                    <article class="article reportage-special">
                        <div class="genre-tag">📸 GRAN REPORTAJE</div>
                        <h2 class="article-title">Diez Años que Sacudieron México</h2>
                        <p class="article-subtitle">
                            Crónica visual de una década de resistencia: 1958-1968
                        </p>
                        <div class="reportage-content">
                            <p class="lead-paragraph">
                                Del riel a las aulas, de los hospitales a las plazas públicas. Una década completa de luchas sociales que revelan las fracturas profundas del "milagro mexicano". Este reportaje recorre los momentos clave de cuatro movimientos que desafiaron al poder y transformaron la conciencia nacional.
                            </p>

                            <div class="timeline-section">
                                <h3>Cronología de la Resistencia</h3>

                                <div class="timeline-item">
                                    <span class="timeline-year">1958</span>
                                    <p><strong>Abril-Agosto:</strong> El magisterio se levanta. Maestros de la Sección IX del SNTE, liderados por Othón Salazar, toman el Zócalo exigiendo 30% de aumento salarial y democracia sindical. Las marchas crecen hasta reunir a 100,000 manifestantes.</p>
                                </div>

                                <div class="timeline-item">
                                    <span class="timeline-year">1959</span>
                                    <p><strong>Febrero-Marzo:</strong> Huelga nacional ferrocarrilera. Demetrio Vallejo paraliza el país. El gobierno responde con el Ejército: más de 10,000 ferrocarrileros despedidos, cientos detenidos. Vallejo es encarcelado y permanecerá 11 años en prisión.</p>
                                </div>

                                <div class="timeline-item">
                                    <span class="timeline-year">1964-1965</span>
                                    <p><strong>Noviembre-Septiembre:</strong> Médicos residentes e internos exigen condiciones laborales dignas. Jornadas de 36 horas continuas, falta de pago de aguinaldos. La protesta crece hasta incluir a 40,000 médicos. Represión y despidos masivos.</p>
                                </div>

                                <div class="timeline-item">
                                    <span class="timeline-year">1968</span>
                                    <p><strong>Julio-Octubre:</strong> Movimiento estudiantil. De una riña callejera a la mayor movilización social de la historia moderna de México. El pliego de seis puntos. Las marchas de más de 300,000 personas. La respuesta: tanques en CU y la masacre del 2 de octubre.</p>
                                </div>
                            </div>

                            <!-- Galería de imágenes (placeholders) -->
                            <div class="gallery" aria-label="Galería del reportaje">
                                <div class="gallery-item"><figure><img src="https://files.catbox.moe/vejfjx.jpg" alt="Reportaje imagen 1" class="gallery-image"><figcaption class="gallery-caption">Gran reportaje — Plaza de protesta, 1968.</figcaption></figure></div>
                                <div class="gallery-item"><figure><img src="https://files.catbox.moe/bl5ow3.jpg" alt="Reportaje imagen 2" class="gallery-image"><figcaption class="gallery-caption">Gran reportaje — Voces en las calles, 1959-1968.</figcaption></figure></div>
                            </div>

                            <div class="pattern-analysis">
                                <h3>El Patrón de la Represión</h3>
                                <p>
                                    Cuatro movimientos diferentes comparten el mismo desenlace: la violencia estatal. El gobierno de López Mateos y luego el de Díaz Ordaz responden con la misma fórmula autoritaria: negación del diálogo, campaña mediática de desprestigio, infiltración, y finalmente, la fuerza bruta.
                                </p>
                                <p>
                                    El corporativismo sindical —columna vertebral del sistema político mexicano— se fractura ante la exigencia de autonomía. Los trabajadores, los profesionistas, los estudiantes, todos reclaman lo mismo: democracia, libertad, justicia.
                                </p>
                            </div>

                            <div class="data-box">
                                <h4>Datos del Movimiento Estudiantil 1968</h4>
                                <ul>
                                    <li>• Más de 50 escuelas en paro</li>
                                    <li>• 15 manifestaciones masivas</li>
                                    <li>• La del 27 de agosto: 400,000 asistentes</li>
                                    <li>• 6 demandas del CNH</li>
                                    <li>• 18 de septiembre: ocupación militar de CU</li>
                                    <li>• 2 de octubre: matanza en Tlatelolco</li>
                                    <li>• Cifra oficial: 30 muertos (cuestionada por testimonios)</li>
                                </ul>
                            </div>
                        </div>
                    </article>

                </section>

                <section class="tab-panel" id="tab-entrevista" role="tabpanel" aria-labelledby="tab-button-entrevista" data-tab="entrevista" tabindex="0" hidden>
                    <article class="article interview-feature">
                        <div class="genre-tag">🎤 ENTREVISTA EXCLUSIVA</div>
                        <h2 class="article-title">"Solo Volveremos cuando Vallejo lo Ordene"</h2>
                        <p class="article-subtitle">
                            Conversación con un ferrocarrilero de la Sección 15
                        </p>

                        <div class="interview-intro">
                            <p>
                                En medio de la huelga que paraliza al país, logramos conversar con uno de los miles de trabajadores que defienden su derecho a elegir libremente a sus líderes sindicales. Por razones de seguridad, omitimos su nombre.
                            </p>
                        </div>

                        <div class="interview-content">
                            <div class="question">
                                <span class="q-label">Pregunta:</span>
                                <p>¿Por qué están en huelga?</p>
                            </div>
                            <div class="answer">
                                <span class="a-label">Respuesta:</span>
                                <p>"Mire usted, nosotros no pedimos nada que no sea justo. Queremos que se respete nuestro contrato, que se cumplan los acuerdos. Y sobre todo, queremos elegir a nuestros propios líderes, no que nos los impongan desde arriba. Vallejo fue elegido democráticamente, y el gobierno no lo puede aceptar."</p>
                            </div>

                            <div class="question">
                                <span class="q-label">P:</span>
                                <p>Los medios dicen que son un movimiento comunista, que quieren desestabilizar al país...</p>
                            </div>
                            <div class="answer">
                                <span class="a-label">R:</span>
                                <p>"Eso es lo que dicen siempre. Comunistas, agitadores, revoltosos. Nosotros solo somos trabajadores que queremos condiciones dignas. ¿Es comunista pedir que te paguen lo justo? ¿Es comunista querer elegir a tu representante? Durante los mítines, todos declaramos lo mismo: solo volveremos a nuestras labores hasta que nuestro líder, Demetrio Vallejo, nos lo ordene personalmente."</p>
                            </div>

                            <div class="question">
                                <span class="q-label">P:</span>
                                <p>¿Qué ha significado este movimiento para ustedes?</p>
                            </div>
                            <div class="answer">
                                <span class="a-label">R:</span>
                                <p>"Ha significado darnos cuenta de nuestra fuerza. Cuando paramos, el país se para. Los trenes no se mueven y nada funciona. Pero también nos damos cuenta del precio: ya van cientos de compañeros despedidos, arrestados. El Ejército ocupa nuestras instalaciones. Pero no nos vamos a rajar. Esto ya no se trata solo de salarios, se trata de dignidad."</p>
                            </div>

                            <div class="question">
                                <span class="q-label">P:</span>
                                <p>¿Qué esperan del gobierno?</p>
                            </div>
                            <div class="answer">
                                <span class="a-label">R:</span>
                                <p>"Que nos respeten. Que entiendan que los trabajadores no somos ganado que se puede arrear. Pero ya vemos que el gobierno de López Mateos solo entiende un lenguaje: el de la fuerza. Nos responden con bayonetas y cárcel. Pero la historia juzgará quién tenía razón."</p>
                            </div>
                        </div>

                        <!-- Galería de la entrevista -->
                        <div class="gallery" aria-label="Galería de la entrevista">
                            <div class="gallery-item"><figure><img src="https://files.catbox.moe/p11ksv.jpg" alt="Entrevista imagen 1" class="gallery-image"><figcaption class="gallery-caption">Líderes sindicales y fuerzas del orden durante la huelga ferrocarrilera: testimonio visual del conflicto obrero y la respuesta estatal.</figcaption></figure></div>
                            <div class="gallery-item"><figure><img src="https://files.catbox.moe/xg1fzw.png" alt="Entrevista imagen 2" class="gallery-image"><figcaption class="gallery-caption">Voz obrera en acción: representante sindical articulando demandas laborales ante la solidaridad de la multitud.</figcaption></figure></div>
                        </div>

                        <div class="interview-note">
                            <p><em>Esta entrevista fue realizada en febrero de 1959, días antes de la represión masiva que resultó en más de 10,000 despidos y el encarcelamiento de los líderes sindicales. Demetrio Vallejo permanecería 11 años en prisión.</em></p>
                        </div>
                    </article>

                </section>

                <section class="tab-panel" id="tab-cronicas" role="tabpanel" aria-labelledby="tab-button-cronicas" data-tab="cronicas" tabindex="0" hidden>
                    <!-- Segunda columna para cubrir espacio en blanco -->
                        <div class="column-content" aria-label="Segunda columna">
                            <hr style="border:0; border-top:2px solid rgba(169,29,33,0.08); margin:18px 0;">
                            <h2 class="article-title">La Prensa Cómplice</h2>
                            <p class="columnist-name">Por: Un Cronista del Silencio</p>

                            <p class="drop-cap">
                                Mientras las calles ardían, los titulares mentían. La gran mayoría de periódicos mexicanos, atados al gobierno por el cordón umbilical de la publicidad oficial y el "embute" (sobornos directos a periodistas), reprodujeron fielmente la versión gubernamental.
                            </p>

                            <p>
                                "Agitadores comunistas", "grupos de choque extranjeros", "complot internacional": esas fueron las etiquetas con que la prensa vendida bautizó a los estudiantes. Excélsior, El Universal, Novedades... todos marcharon al mismo son.
                            </p>

                            <p>
                                Hubo excepciones, por supuesto. Algunos reporteros arriesgaron su carrera para contar la verdad. Pero fueron voces aisladas en un coro de silencio cómplice. La censura no siempre fue explícita; más efectiva resultó la autocensura de directores y editores que sabían dónde estaba la línea que no debían cruzar.
                            </p>

                            <p>
                                El 2 de octubre, cuando la Plaza de las Tres Culturas se tiñó de sangre, la prensa habló de "enfrentamiento entre grupos". Las cifras oficiales —treinta muertos— fueron reproducidas sin cuestionamiento. Los testimonios de sobrevivientes, ignorados. Las fotografías de cadáveres, censuradas.
                            </p>

                            <p>
                                Fue la prensa extranjera —los corresponsales que ya estaban en México para cubrir las Olimpiadas— quien contó lo que realmente sucedió. The Guardian, Le Monde, The Washington Post: ellos sí hablaron de masacre.
                            </p>

                            <p>
                                Esta complicidad tiene un costo histórico. El periodismo mexicano perdió credibilidad ante toda una generación. Los jóvenes aprendieron que no podían confiar en lo que leían en los diarios "serios". Buscaron información en volantes, en publicaciones clandestinas, en el boca a boca.
                            </p>

                            <p>
                                Hoy, años después, algunos de esos mismos periodistas que callaron se dicen arrepentidos. Otros defienden su silencio como "profesionalismo" o "prudencia". Pero la historia no olvida. Y las páginas en blanco que dejaron en 1968 son su monumento de vergüenza.
                            </p>

                            <p class="column-closing">
                                <em>La verdad siempre encuentra su camino, aunque sea entre líneas.</em>
                            </p>

                            <hr style="border:0; border-top:2px solid rgba(169,29,33,0.08); margin:26px 0;">

                            <!-- Columna adicional estilo periódico (ampliada) -->
                    <article class="column-content" aria-label="Columna adicional: Crónicas y Voces">

                        <header class="article-header">
                            <h3 class="article-title">En las esquinas: crónicas y voces</h3>
                            <p class="columnist-name">Por: Crónica de la Calle</p>
                        </header>

                        <hr class="section-divider">

                        <section class="content-section" id="contexto-local">
                            <h4 class="section-heading">Contexto local</h4>
                            <p>La protesta no solo ocupó plazas académicas y estaciones de trabajo; también llenó las esquinas, los mercados y los cafés. Desde los vendedores ambulantes hasta las comisiones de padres de familia, las voces se organizaron en redes informales que compartían noticias, fotografías y volantes. Estas redes ayudaron a sostener la moral de las huelgas y a distribuir recursos básicos entre los movilizados.</p>
                        </section>

                        <section class="content-section" id="testimonios-memoria">
                            <h4 class="section-heading">Testimonios y memoria</h4>
                            <p>Los relatos orales que circularon después de las marchas recogen anécdotas de solidaridad: madres que ofrecían hogares temporales, vecinos que escondían comunicados y trabajadores que donaban alimento. Estos relatos fueron clave para reconstruir los hechos cuando la prensa oficial se negó a publicar el testimonio de víctimas y testigos. Muchas de esas narrativas están preservadas en archivos universitarios y en compilaciones recogidas por organismos como el <a href="https://www.inehrm.gob.mx/es/inehrm/Movimiento_Estudiantil_1968" target="_blank" rel="noopener noreferrer">INEHRM</a>.</p>
                        </section>

                        <section class="content-section" id="solidaridad-practica">
                            <h4 class="section-heading">Solidaridad práctica</h4>
                            <p>En barrios populares se formaron comités de apoyo que ofrecían comida, refugio temporal y atención básica a lesionados. Brigadas médicas espontáneas y colectivos de estudiantes organizaron redes de auxilio que, en algunos casos, continuaron operando tras las huelgas, transformándose en movimientos comunitarios de largo plazo. La existencia de estas redes demuestra que la movilización trascendió el plano meramente político y tuvo efectos tangibles en la vida cotidiana de mucha gente.</p>
                        </section>

                        <section class="content-section" id="relevancia-cultural">
                            <h4 class="section-heading">Relevancia cultural</h4>
                            <p>La circulación de panfletos, poemarios y obras de teatro callejero contribuyó a una cultura popular comprometida con la crítica social. Poetas y artistas formaron parte de un entramado que alimentó la resistencia simbólica: murales, canciones y folletos circularon como memoria activa de la protesta, y varias de esas piezas hoy se conservan en colecciones hemerográficas y museográficas.</p>
                        </section>

                        <section class="content-section" id="legado-lecciones">
                            <h4 class="section-heading">Legado y lecciones</h4>
                            <p>La movilización popular no fue solo estudiantil o sindical; fue una marea de solidaridad interclasista que dejó huella en la memoria colectiva. Sus efectos perduraron en formas de organización social y en la demanda de mayores niveles de transparencia y respeto a los derechos laborales.</p>
                        </section>

                        <footer class="article-footer">

                            <div class="resources-list">
                                <h5 class="resources-heading">Consulta de documentación primaria:</h5>
                                <ul>
                                    <li><a href="#link-a-cndh" aria-label="Recursos de la CNDH">CNDH</a></li>
                                    <li><a href="https://www.inehrm.gob.mx/es/inehrm/Movimiento_Estudiantil_1968" target="_blank" rel="noopener noreferrer" aria-label="Recursos del INEHRM">INEHRM</a></li>
                                    <li><a href="#link-a-agn" aria-label="Recursos del AGN">AGN</a></li>
                                    <li><a href="#link-a-hemeroteca" aria-label="Recursos de la Hemeroteca UNAM">Hemeroteca UNAM</a></li>
                                </ul>
                            </div>

                            <hr class="section-divider">

                            <blockquote class="column-closing">
                                <p><em>Las esquinas guardan las voces que los titulares olvidan; escuchar a la gente es reconstruir la historia desde abajo.</em></p>
                            </blockquote>
                        </footer>

                    </article>

                    <!-- Galería de crónicas y voces -->
                    <div class="gallery" aria-label="Galería de crónicas">
                        <div class="gallery-item"><figure><img src="https://files.catbox.moe/t4k23y.jpg" alt="Crónicas imagen 1" class="gallery-image"><figcaption class="gallery-caption">Líderes sindicales organizando la defensa laboral.</figcaption></figure></div>
                        <div class="gallery-item"><figure><img src="https://files.catbox.moe/hix53o.jpg" alt="Crónicas imagen 2" class="gallery-image"><figcaption class="gallery-caption">Arte de protesta: brigada cultural denuncia la represión estatal durante movimientos sociales.</figcaption></figure></div>
                    </div>

                            <h3>Nuevas Voces, Nuevos Frentes</h3>
                            <p>La represión mediática empujó a estudiantes y trabajadores a crear boletines propios. <strong>La Voz del Pueblo</strong> y <strong>La Causa del CNH</strong> circularon en mimeógrafos portátiles que viajaban escondidos en mochilas. Cada tiraje se agotaba en horas porque la información se compartía de mano en mano, en salones de clase, talleres y mercados.</p>
                            <p>Las brigadas culturales también llevaron teatro callejero a colonias populares: dramatizaciones como <em>El Granulito</em> denunciaban el uso de infiltrados para provocar disturbios. Poetas como Jaime Sabines y Rosario Castellanos leían poemas frente a miles en Ciudad Universitaria, firmando con seudónimos para evadir la censura.</p>

                            <h3>Redes de Solidaridad</h3>
                            <p>Mientras los diarios callaban, las redacciones independientes se organizaron. <strong>El Diario de Yucatán</strong> envió corresponsales, <strong>Política</strong> abrió sus páginas a testimonios estudiantiles y <strong>El Día</strong> publicó fotos que mostraban el verdadero rostro del movimiento. En provincia, estaciones radiofónicas universitarias retransmitieron las conferencias del CNH por la noche, desafiando sanciones.</p>
                            <p>Las asociaciones de padres de familia lanzaron su propio boletín titulado <strong>Padres en Marcha</strong>, donde denunciaban desapariciones y solicitaban apoyo para sostener las huelgas. El texto se fotocopiaba en hospitales, juzgados y parroquias.</p>

                            <h3>Testigos Incómodos</h3>
                            <p>Fotógrafos como <strong>Armando López</strong> escondían rollos en botes de refresco para sacarlos del cerco policial. Esas imágenes circularon en revistas europeas y regresaron al país en forma de postales clandestinas que se vendían en la zona de la Merced.</p>
                            <p>En las universidades privadas, colectivos como <strong>Comité Estudiantil de la Ibero</strong> replicaron crónicas a través de boletines como <em>La Espiga</em>. Estudiantes de preparatoria tradujeron al inglés los comunicados del CNH y los enviaron por teléfono a estaciones de radio universitarias en California.</p>

                            <h3>El Eco en Latinoamérica</h3>
                            <p>Desde Buenos Aires, el periódico <strong>Marcha</strong> documentó la represión. Sus crónicas inspiraron a movimientos estudiantiles del Cono Sur. En Chile, la Universidad Técnica organizó un foro titulado “México: juventud y democracia”, con testimonios vía telégrafo.</p>
                            <p>Grupos de derechos humanos en Estados Unidos elaboraron expedientes que presentaron en foros de la ONU. Sin redes sociales, la información viajaba en valijas diplomáticas, microfilmes y grabaciones en casete que cruzaban la frontera en automóviles cargados de solidaridad.</p>

                            <h3>Memoria que se Imprime</h3>
                            <p>Tres años después, colectivos como el Movimiento de Liberación de la Mujer reimprimieron estas crónicas para vincular la lucha estudiantil con la agenda feminista; resaltaron el papel de brigadistas como <strong>Roberta Avendaño</strong> y <strong>Rosa Martha Fernández</strong>, quienes lideraron comités nocturnos y organizaron comedores populares.</p>
                            <p class="column-closing"><em>La memoria de 1968 no cabe en un solo titular: sobrevive en cada volante, mural y archivo independiente.</em></p>
                        </div>

                        <!-- Sección añadida: contexto histórico y fuentes verificables -->
                </section>

                <section class="tab-panel" id="tab-contexto" role="tabpanel" aria-labelledby="tab-button-contexto" data-tab="contexto" tabindex="0" hidden>
                    <!-- Reordenado: analysis-piece primero, luego contexto y fuentes, luego recursos -->
                    <div class="column-content" aria-label="Análisis principal" style="padding:20px;">
                        <article class="article analysis-piece">
                            <div class="genre-tag">📊 ANÁLISIS</div>
                            <h2 class="article-title">Cuando el Milagro se Detiene</h2>
                            <p class="article-subtitle">
                                Anatomía del corporativismo en crisis
                            </p>

                            <div class="analysis-content">
                                <p class="lead-analysis">
                                    El llamado "milagro mexicano" —ese período de crecimiento económico sostenido que nos vendieron como el camino al primer mundo— se ha revelado como lo que siempre fue: un espejismo construido sobre la represión sistemática del descontento social.
                                </p>

                                <h3>El Pacto Comporativista</h3>
                                <p>
                                    Desde la consolidación del régimen posrevolucionario, el Estado mexicano construyó un sistema de control basado en el corporativismo sindical: los trabajadores organizados en sindicatos "oficiales", subordinados al partido en el poder, a cambio de ciertas prestaciones y la promesa de estabilidad. El PRI no solo gobernaba; absorbía, cooptaba, neutralizaba cualquier expresión de autonomía obrera.
                                </p>

                                <h3>Las Grietas del Sistema</h3>
                                <p>
                                    Los movimientos de 1958 a 1968 representan la fractura de ese pacto. Los ferrocarrileros de Vallejo, los maestros de Salazar, los médicos residentes, los estudiantes del CNH: todos comparten el mismo reclamo fundamental: autonomía. El derecho a organizarse libremente, a elegir a sus propios líderes, a negociar sin intermediarios impuestos desde arriba.
                                </p>

                                <div class="analysis-sidebar">
                                    <h4>Patrón Común de Represión</h4>
                                    <ol>
                                        <li><strong>Fase 1:</strong> Movilización y demandas legítimas</li>
                                        <li><strong>Fase 2:</strong> Negación gubernamental y campañas de desprestigio</li>
                                        <li><strong>Fase 3:</strong> Infiltración y provocación</li>
                                        <li><strong>Fase 4:</strong> Represión violenta</li>
                                        <li><strong>Fase 5:</strong> Criminalización de líderes</li>
                                    </ol>
                                </div>

                                <h3>El Desarrollo Desigual</h3>
                                <p>
                                    Mientras las estadísticas macroeconómicas hablaban de crecimiento del 6% anual, la realidad de millones de mexicanos era otra: salarios insuficientes, jornadas extenuantes, nula democracia laboral. El "desarrollo estabilizador" estabilizaba, sí, pero solo para las élites. Para los trabajadores significaba contención salarial, represión sindical, control político.
                                </p>

                                <h3>1968: El Punto de No Retorno</h3>
                                <p>
                                    El movimiento estudiantil de 1968 no surgió de la nada. Fue la culminación de una década de resistencias. Los estudiantes aprendieron de los ferrocarrileros, de los maestros, de los médicos. Entendieron que el enemigo no era solo un líder sindical charro o un rector autoritario: era todo un sistema que no toleraba la disidencia.
                                </p>

                                <p>
                                    La masacre de Tlatelolco selló el fin de cualquier ilusión sobre el carácter "democrático" del régimen. El gobierno demostró que estaba dispuesto a todo —incluso a masacrar a sus propios jóvenes— para mantener el control. Las Olimpiadas de 1968 se celebraron sobre cadáveres. El "milagro mexicano" se reveló como lo que siempre fue: una dictadura perfecta.
                                </p>

                                <h3>El Legado</h3>
                                <p>
                                    Estos movimientos perdieron sus batallas inmediatas: Vallejo pasó 11 años en prisión, los estudiantes fueron dispersados, los maestros doblegados. Pero ganaron algo más profundo: evidenciaron las contradicciones del sistema, politizaron a toda una generación, sembraron las semillas de luchas futuras.
                                </p>

                                <p>
                                    El México que emerge de 1968 ya no es el mismo. La conciencia social se ha transformado. La legitimidad del régimen se ha agrietado irremediablemente. Y aunque el precio ha sido altísimo —cárceles llenas, exilios, muertos— algo ha cambiado para siempre: el miedo ya no es absoluto.
                                </p>

                                <div class="analysis-conclusion">
                                    <p>
                                        <strong>Conclusión:</strong> Los movimientos sociales de 1958 a 1968 no fueron episodios aislados, sino manifestaciones de una crisis estructural del modelo corporativista mexicano. Su represión reveló la naturaleza autoritaria del régimen y marcó el inicio de un largo proceso de democratización que tomaría décadas.
                                    </p>
                                </div>
                            </div>
                        </article>
                    </div>

                    <div class="column-content" aria-label="Contexto y fuentes">
                            <hr style="border:0; border-top:2px solid rgba(169,29,33,0.08); margin:18px 0;">
                            <h3>Contexto y fuentes recomendadas</h3>
                            <p>Para entender mejor los sucesos referidos en estas páginas es útil consultar fuentes primarias y documentos elaborados por organismos de derechos humanos e instituciones de investigación histórica. A continuación se ofrecen puntos de referencia verificables y enlaces de consulta:</p>
                            <ul>
                                <li><strong>Huelga ferrocarrilera (1959):</strong> liderada por Demetrio Vallejo. La huelga puso en evidencia la conflictividad laboral del periodo y la respuesta del Estado; Vallejo fue detenido y permaneció años en prisión. Informe y nota conmemorativa de la Comisión Nacional de los Derechos Humanos: <a href="https://www.cndh.org.mx/noticia/muere-demetrio-vallejo-dirigente-obrero-lider-de-los-trabajadores-ferrocarrileros-defensor" target="_blank" rel="noopener">CNDH — Fallecimiento y legado de Demetrio Vallejo</a>.</li>
                                <li><strong>Movimiento estudiantil de 1968:</strong> surge de la movilización de estudiantes en todo el país y del trabajo del Consejo Nacional de Huelga (CNH), que presentó un pliego con demandas como la disolución del cuerpo de granaderos y la libertad de presos políticos. Información y recopilación documental del Instituto Nacional de Estudios Históricos de las Revoluciones de México: <a href="https://www.inehrm.gob.mx/es/inehrm/Movimiento_Estudiantil_1968" target="_blank" rel="noopener">INEHRM — Movimiento Estudiantil de 1968</a>. El documento del INEHRM incluye cronología, testimonios y bibliografía recomendada.</li>
                                <li><strong>Contexto político y Juegos Olímpicos 1968:</strong> La presidencia de Gustavo Díaz Ordaz (1964–1970) y la proximidad de los Juegos Olímpicos de 1968 influyeron en la estrategia gubernamental para mantener una imagen de control. La conflagración entre el afán de orden y la represión es un elemento clave para comprender la escala de la respuesta estatal.</li>
                                <li><strong>Contraste de cifras y testimonios:</strong> Los registros oficiales y las estimaciones de organismos y víctimas difieren en número de fallecidos y detenciones. Recomendamos consultar informes del INEHRM, notas de la CNDH, archivos periodísticos de la época y compilaciones de testimonios para construir una visión crítica y documentada.</li>
                                <li><strong>Lecturas adicionales:</strong> el INEHRM y la CNDH ofrecen bibliografías y referencias primarias (archivos, hemeroteca y testimonios). Consulte también colecciones universitarias y archivos públicos para obtener documentos originales y boletines mimeografiados que circularon durante el movimiento.</li>
                            </ul>

                            <p style="font-size:0.92rem;color:#444;">Nota: las cifras oficiales y las estimaciones independientes sobre víctimas y detenciones difieren; por eso recomendamos contrastar distintas fuentes (informes oficiales, testimonios de sobrevivientes, investigaciones académicas y archivos periodísticos) antes de extraer conclusiones definitivas.</p>
                        </div>

                        <!-- Bloque adicional: recursos gubernamentales y académicos -->

                    <div class="column-content" aria-label="Recursos adicionales">
                            <hr style="border:0; border-top:2px solid rgba(169,29,33,0.08); margin:18px 0;">
                            <h3>Recursos gubernamentales y académicos</h3>
                            <p>Si deseas profundizar en los acontecimientos y consultar documentos primarios, hemerotecas y archivos oficiales, revisa las siguientes fuentes confiables:</p>
                            <ul>
                                <li><a href="https://www.inehrm.gob.mx/es/inehrm/Movimiento_Estudiantil_1968" target="_blank" rel="noopener">INEHRM — Movimiento Estudiantil de 1968</a>: cronologías, documentos y bibliografía académica.</li>
                                <li><a href="https://www.cndh.org.mx/noticia/muere-demetrio-vallejo-dirigente-obrero-lider-de-los-trabajadores-ferrocarrileros-defensor" target="_blank" rel="noopener">CNDH — Demetrio Vallejo</a>: notas y acciones relacionadas con derechos humanos y memoria histórica.</li>
                                <li><a href="https://www.cndh.org.mx/noticia/movimiento-de-los-medicos-primer-paro-nacional" target="_blank" rel="noopener">CNDH — Movimiento de los médicos: primer paro nacional</a>: nota y contexto sobre protestas médicas y acciones por derechos laborales.</li>
                                <li><a href="https://www.mexicoescultura.com/actividad/139412/maestros-en-protesta-1958-en-perspectiva.html" target="_blank" rel="noopener">México en la Cultura — Maestros en protesta (1958)</a>: análisis histórico y cronología del movimiento magisterial.</li>
                                <li><a href="https://www.fundacionunam.org.mx/auriazul/dos-de-octubre-ni-perdon-ni-olvido/" target="_blank" rel="noopener">UNAM — Portal institucional</a>: acceso a colecciones, archivos y publicaciones universitarias sobre 1958–1968.</li>
                                <li><a href="https://hndm.iib.unam.mx/index.php/es/" target="_blank" rel="noopener">Hemeroteca Nacional Digital de México (UNAM)</a>: hemerografía y periódicos digitalizados de la época.</li>
                                <li><a href="https://www.gob.mx/agn" target="_blank" rel="noopener">Archivo General de la Nación (AGN)</a>: fondos documentales oficiales y expedientes históricos.</li>
                            </ul>
                        </div>
                    </article>
                </section>

                    <!-- Duplicate analysis block removed; analysis is now placed at the top of this tab -->

                    <section class="tab-panel" id="tab-ocio" role="tabpanel" aria-labelledby="tab-button-ocio" data-tab="ocio" tabindex="0" hidden>
                    <h2>Sección de Ocio</h2>

                    <div class="footer-content">
                        <div class="activity-section">

                            <h3>Retos Interactivos</h3>

                            <p>Explora estas actividades y vuelve a recorrer los conceptos clave del movimiento estudiantil con un toque lúdico e histórico.</p>



                            <section class="game-block" id="matching-game">

                                <h4>Arma la crónica</h4>

                                <p>Relaciona cada inicio con su desarrollo y cierre. Selecciona un bloque de la columna izquierda y luego su complemento en la derecha para reconstruir los episodios.</p>

                                <div id="game-stats" style="text-align: center; margin-bottom: 20px; font-size: 1.1rem; color: #a91d21;">

                                    <span>Tiempo: <span id="timer">0</span>s</span> | <span>Intentos: <span id="attempts">0</span></span>

                                </div>



                                <div class="activity-wrap">

                                    <svg class="match-svg" aria-hidden="true"></svg>

                                    <div class="match-activity">

                                        <div class="match-column" id="column-left">

                                            <ul class="match-list" id="left-list"></ul>

                                        </div>

                                        <div class="match-column" id="column-right">

                                            <ul class="match-list" id="right-list"></ul>

                                        </div>

                                    </div>

                                </div>



                                <div class="match-controls">

                                    <button class="btn" id="resetBtn">Reiniciar</button>

                                    <button class="btn secondary" id="showBtn">Mostrar respuestas</button>

                                </div>

                            </section>



                            <section class="game-block" id="wordsearch-game">

                                <h4>Sopa de letras de la memoria</h4>

                                <p>Desliza el cursor o tu dedo para trazar las palabras ocultas en cualquier dirección. Cada concepto remite a un momento decisivo de 1958-1968.</p>

                                <div class="wordsearch">

                                    <div class="wordsearch-grid" id="wordsearch-grid" role="grid" aria-label="Sopa de letras sobre los movimientos sociales"></div>

                                    <div class="wordsearch-wordlist">

                                        <h5>Palabras a encontrar</h5>

                                        <ul id="wordsearch-words"></ul>

                                        <div class="wordsearch-actions">

                                            <button class="btn secondary" id="wordsearch-reset">Reiniciar</button>

                                        </div>

                                        <p class="game-status" id="wordsearch-status" aria-live="polite"></p>

                                    </div>

                                </div>

                            </section>

                            <section class="game-block" id="quiz-game">
                                <h4>Trivia del 68</h4>
                                <p>Elige la respuesta correcta en cada pregunta para repasar los hitos de 1958-1968. Luego presiona "Comprobar".</p>
                                <form id="quiz-form" class="quiz-block">
                                    <fieldset class="quiz-question" data-answer="B">
                                        <legend>1. &iquest;Qu&eacute; exig&iacute;a el pliego petitorio del CNH?</legend>
                                        <div class="quiz-options">
                                            <label class="quiz-option">
                                                <input type="radio" name="q1" value="A">
                                                <span>La renuncia del rector y la cancelaci&oacute;n de clases.</span>
                                            </label>
                                            <label class="quiz-option">
                                                <input type="radio" name="q1" value="B">
                                                <span>La liberaci&oacute;n de presos pol&iacute;ticos y el fin del cuerpo de granaderos.</span>
                                            </label>
                                            <label class="quiz-option">
                                                <input type="radio" name="q1" value="C">
                                                <span>El reconocimiento de nuevos partidos pol&iacute;ticos.</span>
                                            </label>
                                        </div>
                                    </fieldset>

                                    <fieldset class="quiz-question" data-answer="C">
                                        <legend>2. &iquest;Qu&eacute; sector protagoniz&oacute; la huelga nacional de 1959?</legend>
                                        <div class="quiz-options">
                                            <label class="quiz-option">
                                                <input type="radio" name="q2" value="A">
                                                <span>Los maestros normalistas.</span>
                                            </label>
                                            <label class="quiz-option">
                                                <input type="radio" name="q2" value="B">
                                                <span>Los m&eacute;dicos residentes.</span>
                                            </label>
                                            <label class="quiz-option">
                                                <input type="radio" name="q2" value="C">
                                                <span>Los trabajadores ferrocarrileros.</span>
                                            </label>
                                        </div>
                                    </fieldset>

                                    <fieldset class="quiz-question" data-answer="A">
                                        <legend>3. &iquest;D&oacute;nde se concentr&oacute; la represi&oacute;n del 2 de octubre?</legend>
                                        <div class="quiz-options">
                                            <label class="quiz-option">
                                                <input type="radio" name="q3" value="A">
                                                <span>En la Plaza de las Tres Culturas, en Tlatelolco.</span>
                                            </label>
                                            <label class="quiz-option">
                                                <input type="radio" name="q3" value="B">
                                                <span>En el Z&oacute;calo capitalino.</span>
                                            </label>
                                            <label class="quiz-option">
                                                <input type="radio" name="q3" value="C">
                                                <span>En Ciudad Universitaria.</span>
                                            </label>
                                        </div>
                                    </fieldset>

                                    <div class="quiz-actions">
                                        <button class="btn" type="submit" id="quiz-submit">Comprobar</button>
                                        <button class="btn secondary" type="button" id="quiz-reset">Reiniciar</button>
                                    </div>
                                </form>
                                <p class="game-status" id="quiz-status" aria-live="polite"></p>
                            </section>

                        </div>

                        <aside class="ads-section" aria-label="Anuncios destacados">
                            <!-- Four ads removed as requested to reduce clutter -->

                            <div class="ad-box">
                                <h4>Moda Juvenil</h4>
                                <p><strong>Botas Go-Go</strong></p>
                                <p style="margin-top: 12px;">Pasos firmes en cada marcha. Disponibles en blanco y rojo.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Lecturas Prohibidas</h4>
                                <p><strong>Librer&iacute;a Aurora</strong></p>
                                <p style="margin-top: 12px;">Ensayos cr&iacute;ticos y panfletos importados. Pregunte por la sala discreta.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Comun&iacute;cate</h4>
                                <p><strong>Olivetti Lettera 32</strong></p>
                                <p style="margin-top: 12px;">Teclas suaves para redactar manifiestos sin hacer ruido.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Noches De Ruta</h4>
                                <p><strong>Caf&eacute; La Ruta</strong></p>
                                <p style="margin-top: 12px;">Jazz en vivo, tertulias rebeldes y caf&eacute; de olla hasta el amanecer.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Transporte Solidario</h4>
                                <p><strong>Autobuses &quot;El Estudiante&quot;</strong></p>
                                <p style="margin-top: 12px;">Rutas directas a CU y Zacatenco. Conductor aliado del movimiento.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Documenta La Historia</h4>
                                <p><strong>Kodak Instamatic</strong></p>
                                <p style="margin-top: 12px;">Dispare y comparta. Im&aacute;genes n&iacute;tidas del 68.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Guardia Nocturna</h4>
                                <p><strong>Linterna Eveready</strong></p>
                                <p style="margin-top: 12px;">Bater&iacute;as de larga duraci&oacute;n para vigilias y brigadas nocturnas.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Reforma Editorial</h4>
                                <p><strong>Revista &quot;La Voz&quot;</strong></p>
                                <p style="margin-top: 12px;">An&aacute;lisis independiente y cr&oacute;nicas que el diario oficial no publica.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Seguro Solidario</h4>
                                <p><strong>Cooperativa SalvaGuarda</strong></p>
                                <p style="margin-top: 12px;">Apoyo legal y m&eacute;dico para brigadistas y estudiantes.</p>
                            </div>

                            <div class="ad-box">
                                <h4>Imprime Tus Ideas</h4>
                                <p><strong>Mime&oacute;grafos Aurora</strong></p>
                                <p style="margin-top: 12px;">Equipos listos para volantes. Entrega nocturna discreta.</p>
                            </div>
                        </aside>

                        </div>

                    <div class="footer-bottom">
                        <p class="footer-quote">"La historia la escriben los que luchan"</p>
                        <p>© 1968 La Crónica Inquieta - Todos los derechos reservados</p>
                        <p>Una publicación independiente al servicio de la verdad</p>
                        <div class="credit-block" aria-label="Datos del docente y equipo">
                            <div class="team-list">
                                <div>Docente: Juan Antonio Aldaco Aldaco</div>
                                <div>Materia: Estructura Socioecon&oacute;mica de M&eacute;xico</div>
                                <div>Grupo: F&iacute;sico-Matem&aacute;tico</div>
                                <div style="margin-top:4px;">Equipo:</div>
                                <div>Guerrero Segoviando Jaime Fernando</div>
                                <div>P&eacute;rez L&oacute;pez Juan Pablo</div>
                                <div>Regalado Razo Luis Angel</div>
                                <div>Rubalcava Ledesma Ian Eduardo</div>
                                <div>Sandoval Guevara Rodrigo</div>
                            </div>
                        </div>
                    </div>
                    </section>
            </div>
        </main>
    </div>

    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImg" alt="Imagen ampliada">
    </div>

    <script>
        (() => {
            const tabButtons = Array.from(document.querySelectorAll('.tab-button'));
            const tabPanels = Array.from(document.querySelectorAll('.tab-panel'));
            const containerEl = document.querySelector('.newspaper-container');
            if (!tabButtons.length || !tabPanels.length) return;

            tabPanels.forEach(panel => {
                if (!panel.classList.contains('is-active')) {
                    panel.hidden = true;
                }
            });

            function activateTab(tab, { focusPanel = false } = {}) {
                tabButtons.forEach(button => {
                    const isActive = button.dataset.tab === tab;
                    button.classList.toggle('is-active', isActive);
                    button.setAttribute('aria-selected', isActive ? 'true' : 'false');
                    button.tabIndex = isActive ? 0 : -1;
                });

                tabPanels.forEach(panel => {
                    const isActive = panel.dataset.tab === tab;
                    panel.classList.toggle('is-active', isActive);
                    panel.hidden = !isActive;
                    if (isActive && focusPanel) {
                        panel.focus();
                    }
                });

                if (containerEl) {
                    containerEl.classList.toggle('is-notas-active', tab === 'notas');
                }

                // Inicializar actividades de 'Ocio' bajo demanda (idempotente)
                if (tab === 'ocio') {
                    try { window.initWordsearch && window.initWordsearch(); } catch(e){}
                    try { window.initQuiz && window.initQuiz(); } catch(e){}
                    try { window.initMatching && window.initMatching(); } catch(e){}
                    // Forzar visibilidad adicional por si hay algún conflicto CSS/DOM
                    try {
                        const ocioPanel = tabPanels.find(p => p.dataset.tab === 'ocio');
                        if (ocioPanel) {
                            ocioPanel.hidden = false;
                            ocioPanel.classList.add('is-active');
                            ocioPanel.style.display = 'block';
                            // limpiar display:none inline en hijos
                            ocioPanel.querySelectorAll('*').forEach(el => { if (el.style && el.style.display === 'none') el.style.display = ''; });
                            console.log('Ocio panel forced visible');
                        }
                    } catch(e) { console.log('error forcing ocio panel', e); }
                }

                window.dispatchEvent(new Event('resize'));
            }

            function moveFocus(currentButton, direction) {
                const currentIndex = tabButtons.indexOf(currentButton);
                if (currentIndex === -1) return;
                const total = tabButtons.length;
                const nextIndex = (currentIndex + direction + total) % total;
                tabButtons[nextIndex].focus();
            }

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    if (button.classList.contains('is-active')) return;
                    activateTab(button.dataset.tab);
                });

                button.addEventListener('keydown', event => {
                    switch (event.key) {
                        case 'ArrowRight':
                        case 'ArrowDown':
                            event.preventDefault();
                            moveFocus(button, 1);
                            break;
                        case 'ArrowLeft':
                        case 'ArrowUp':
                            event.preventDefault();
                            moveFocus(button, -1);
                            break;
                        case 'Home':
                            event.preventDefault();
                            tabButtons[0].focus();
                            break;
                        case 'End':
                            event.preventDefault();
                            tabButtons[tabButtons.length - 1].focus();
                            break;
                        case 'Enter':
                        case ' ':
                            event.preventDefault();
                            activateTab(button.dataset.tab, { focusPanel: true });
                            break;
                        default:
                            break;
                    }
                });
            });

            const initial = tabButtons.find(button => button.classList.contains('is-active')) || tabButtons[0];
            if (initial) {
                activateTab(initial.dataset.tab);
            }
        })();
    </script>

    <script>
        // Modal para imágenes
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImg');
        const images = Array.from(document.querySelectorAll('.article-image'))
            .concat(Array.from(document.querySelectorAll('.gallery-image')));

        images.forEach(img => {
            img.onclick = function() {
                modal.style.display = "block";
                modalImg.src = this.src;
                modalImg.alt = this.alt || '';
            }
        });

        const closeBtn = document.getElementsByClassName('close')[0];
        closeBtn.onclick = function() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        // Juego: Sopa de letras
        function initWordsearch() {
            if (window.__initWordsearchDone) return;
            window.__initWordsearchDone = true;
            const gridData = [
                "MIMRSQMQXTKDD",
                "DEMOCRACIAJUA",
                "VNWSSUHPLMTCT",
                "GXTLATELOLCOR",
                "SELSORTSEAMQE",
                "CDIALOGOZIPQB",
                "WQPJPLIEGOGCI",
                "ESTUDIANTESML",
                "ECUWUHUELGAMP",
                "AHCRAMZRSJSOA",
                "RBLIRRACORREF",
                "DHGRYBREGIKED",
                "RQGSBWWGPBSRD"
            ];

            const words = [
                { id: "FERROCARRIL", word: "FERROCARRIL", clue: "Paro ferrocarrilero que encendio 1958.", start: { row: 10, col: 12 }, dir: { dr: 0, dc: -1 } },
                { id: "ESTUDIANTES", word: "ESTUDIANTES", clue: "Protagonistas de la movilizacion de 1968.", start: { row: 7, col: 0 }, dir: { dr: 0, dc: 1 } },
                { id: "DEMOCRACIA", word: "DEMOCRACIA", clue: "Demanda central en cada asamblea.", start: { row: 1, col: 0 }, dir: { dr: 0, dc: 1 } },
                { id: "TLATELOLCO", word: "TLATELOLCO", clue: "Plaza que marco el 2 de octubre.", start: { row: 3, col: 2 }, dir: { dr: 0, dc: 1 } },
                { id: "MAESTROS", word: "MAESTROS", clue: "Gremio que exigio democracia sindical.", start: { row: 4, col: 10 }, dir: { dr: 0, dc: -1 } },
                { id: "LIBERTAD", word: "LIBERTAD", clue: "Derecho coreado en las marchas.", start: { row: 7, col: 12 }, dir: { dr: -1, dc: 0 } },
                { id: "DIALOGO", word: "DIALOGO", clue: "Lo que el CNH pidio al gobierno.", start: { row: 5, col: 1 }, dir: { dr: 0, dc: 1 } },
                { id: "HUELGA", word: "HUELGA", clue: "Herramienta de presion colectiva.", start: { row: 8, col: 5 }, dir: { dr: 0, dc: 1 } },
                { id: "PLIEGO", word: "PLIEGO", clue: "Documento con los puntos del CNH.", start: { row: 6, col: 4 }, dir: { dr: 0, dc: 1 } },
                { id: "MARCHA", word: "MARCHA", clue: "Traslado multitudinario por la ciudad.", start: { row: 9, col: 5 }, dir: { dr: 0, dc: -1 } }
            ];

            const gridEl = document.getElementById("wordsearch-grid");
            const listEl = document.getElementById("wordsearch-words");
            const resetBtn = document.getElementById("wordsearch-reset");
            const statusEl = document.getElementById("wordsearch-status");
            if (!gridEl || !listEl || !resetBtn || !statusEl) {
                return;
            }

            const keyFor = (row, col) => `${row}-${col}`;
            const cellMap = new Map();
            const previewCells = new Set();
            const foundWords = new Set();
            const selection = { pointerId: null, startCell: null, path: [] };
            const defaultMessage = "Selecciona una palabra arrastrando sobre las letras.";

            statusEl.textContent = defaultMessage;

            gridData.forEach((rowStr, rowIndex) => {
                rowStr.split("").forEach((char, colIndex) => {
                    const cell = document.createElement("button");
                    cell.type = "button";
                    cell.className = "ws-cell";
                    cell.dataset.row = String(rowIndex);
                    cell.dataset.col = String(colIndex);
                    cell.textContent = char;
                    cell.setAttribute("aria-label", `Fila ${rowIndex + 1}, columna ${colIndex + 1}, letra ${char}`);
                    gridEl.appendChild(cell);
                    cellMap.set(keyFor(rowIndex, colIndex), cell);
                });
            });

            function clearPreview() {
                previewCells.forEach(cell => cell.classList.remove("ws-preview"));
                previewCells.clear();
            }

            function resetSelectionState() {
                selection.startCell = null;
                selection.path = [];
            }

            function computePath(start, target) {
                if (!start || !target) return null;
                const sr = Number(start.dataset.row);
                const sc = Number(start.dataset.col);
                const tr = Number(target.dataset.row);
                const tc = Number(target.dataset.col);
                const dr = tr - sr;
                const dc = tc - sc;
                if (dr === 0 && dc === 0) return [start];
                const absDr = Math.abs(dr);
                const absDc = Math.abs(dc);
                if (!(dr === 0 || dc === 0 || absDr === absDc)) {
                    return null;
                }
                const stepR = dr === 0 ? 0 : dr / absDr;
                const stepC = dc === 0 ? 0 : dc / absDc;
                const length = Math.max(absDr, absDc) + 1;
                const path = [];
                for (let i = 0; i < length; i += 1) {
                    const row = sr + stepR * i;
                    const col = sc + stepC * i;
                    const cell = cellMap.get(keyFor(row, col));
                    if (!cell) return null;
                    path.push(cell);
                }
                return path;
            }

            function updatePreview(target) {
                if (!selection.startCell) return;
                clearPreview();
                const path = computePath(selection.startCell, target);
                if (!path) {
                    selection.path = [selection.startCell];
                    selection.startCell.classList.add("ws-preview");
                    previewCells.add(selection.startCell);
                    return;
                }
                selection.path = path;
                path.forEach(cell => {
                    cell.classList.add("ws-preview");
                    previewCells.add(cell);
                });
            }

            function resolveSelection() {
                if (!selection.path.length) return;
                const letters = selection.path.map(cell => cell.textContent).join("");
                const reversed = letters.split("").reverse().join("");
                let match = null;
                for (const entry of words) {
                    if (foundWords.has(entry.id)) continue;
                    if (letters === entry.word || reversed === entry.word) {
                        match = entry;
                        break;
                    }
                }
                if (match) {
                    selection.path.forEach(cell => {
                        cell.classList.add("found");
                        cell.classList.remove("ws-preview");
                    });
                    foundWords.add(match.id);
                    const item = listEl.querySelector(`[data-word="${match.id}"]`);
                    if (item) item.classList.add("found");
                    statusEl.textContent = foundWords.size === words.length
                        ? "Sopa completada. Todos los conceptos quedaron resaltados."
                        : `Bien: ${match.word}.`;
                } else {
                    selection.path.forEach(cell => {
                        cell.classList.add("ws-error");
                        setTimeout(() => cell.classList.remove("ws-error"), 400);
                    });
                    statusEl.textContent = "Esa seleccion no corresponde a ningun concepto.";
                }
                clearPreview();
                resetSelectionState();
            }

            function beginSelection(cell, pointerId) {
                clearPreview();
                resetSelectionState();
                selection.startCell = cell;
                selection.pointerId = pointerId;
                gridEl.setPointerCapture?.(pointerId);
                updatePreview(cell);
            }

            function endSelection(pointerId, finalize) {
                if (selection.pointerId !== pointerId) return;
                if (finalize) {
                    resolveSelection();
                } else {
                    clearPreview();
                    resetSelectionState();
                }
                gridEl.releasePointerCapture?.(pointerId);
                selection.pointerId = null;
            }

            gridEl.addEventListener("pointerdown", event => {
                const cell = event.target.closest(".ws-cell");
                if (!cell || cell.classList.contains("found")) return;
                event.preventDefault();
                beginSelection(cell, event.pointerId);
            });

            gridEl.addEventListener("pointermove", event => {
                if (selection.pointerId !== event.pointerId || !selection.startCell) return;
                const target = document.elementFromPoint(event.clientX, event.clientY);
                const cell = target && target.closest(".ws-cell");
                if (cell) updatePreview(cell);
            });

            gridEl.addEventListener("pointerup", event => {
                endSelection(event.pointerId, true);
            });

            gridEl.addEventListener("pointercancel", event => {
                endSelection(event.pointerId, false);
            });

            document.addEventListener("pointerup", event => {
                if (selection.pointerId === event.pointerId) {
                    endSelection(event.pointerId, true);
                }
            });

            words.forEach(entry => {
                const li = document.createElement("li");
                li.dataset.word = entry.id;
                li.textContent = `${entry.word} - ${entry.clue}`;
                listEl.appendChild(li);
            });

            function resetGame() {
                clearPreview();
                foundWords.clear();
                selection.pointerId = null;
                resetSelectionState();
                gridEl.querySelectorAll(".ws-cell").forEach(cell => {
                    cell.classList.remove("found", "ws-error", "ws-preview");
                });
                listEl.querySelectorAll("li").forEach(li => li.classList.remove("found"));
                statusEl.textContent = defaultMessage;
            }

            resetBtn.addEventListener("click", resetGame);
        }
        window.initWordsearch = initWordsearch;

        // Juego: Trivia del 68
        function initQuiz() {
            if (window.__initQuizDone) return;
            window.__initQuizDone = true;
            const form = document.getElementById('quiz-form');
            const statusEl = document.getElementById('quiz-status');
            const resetBtn = document.getElementById('quiz-reset');
            if (!form || !statusEl || !resetBtn) {
                return;
            }

            const questions = Array.from(form.querySelectorAll('.quiz-question'));

            function clearMarks() {
                questions.forEach(fieldset => {
                    fieldset.querySelectorAll('.quiz-option').forEach(option => {
                        option.classList.remove('correct', 'wrong');
                    });
                });
            }

            form.addEventListener('submit', event => {
                event.preventDefault();
                clearMarks();

                const selections = questions.map(fieldset => {
                    const answer = fieldset.dataset.answer;
                    const inputs = fieldset.querySelectorAll('input[type="radio"]');
                    let selectedValue = null;

                    inputs.forEach(input => {
                        if (input.checked) {
                            selectedValue = input.value;
                        }
                    });

                    return { fieldset, answer, selectedValue };
                });

                const unanswered = selections.some(item => !item.selectedValue);
                if (unanswered) {
                    statusEl.textContent = 'Resuelve todas las preguntas antes de comprobar.';
                    return;
                }

                let correct = 0;

                selections.forEach(({ fieldset, answer, selectedValue }) => {
                    const options = Array.from(fieldset.querySelectorAll('.quiz-option'));
                    options.forEach(option => {
                        const value = option.querySelector('input').value;
                        if (value === answer) {
                            option.classList.add('correct');
                        }
                        if (value === selectedValue && value !== answer) {
                            option.classList.add('wrong');
                        }
                    });

                    if (selectedValue === answer) {
                        correct += 1;
                    }
                });

                if (correct === questions.length) {
                    statusEl.textContent = '\u00a1Perfecto! Conoces cada detalle del movimiento.';
                } else {
                    statusEl.textContent = `Acertaste ${correct} de ${questions.length}. Repasa tus notas y vuelve a intentarlo.`;
                }
            });

            resetBtn.addEventListener('click', () => {
                form.reset();
                clearMarks();
                statusEl.textContent = 'Selecciona una respuesta para cada pregunta.';
            });

            statusEl.textContent = 'Selecciona una respuesta para cada pregunta.';
        }
        window.initQuiz = initQuiz;

        // Actividad "Une los párrafos"
        function initMatching() {
            if (window.__initMatchingDone) return;
            window.__initMatchingDone = true;
            const pairs = [
                { id: 'p1', start: 'Inicio: Una nación despierta a la protesta estudiantil.', mid: 'Desarrollo: Las calles se llenan de consignas y marchas estudiantiles organizadas.', end: 'Cierre: Surge un llamado a unidad nacional y diálogo público.' },
                { id: 'p2', start: 'Inicio: Los maestros anuncian movilizaciones por democracia sindical.', mid: 'Desarrollo: Ocupan plazas y exigen elecciones libres en su sindicato.', end: 'Cierre: Se pactan mesas de negociación con algunas concesiones.' },
                { id: 'p3', start: 'Inicio: Los trabajadores ferroviarios inician paros escalonados.', mid: 'Desarrollo: Huelgas y bloqueos paralizan rutas clave del país.', end: 'Cierre: El conflicto desemboca en juicios y represión de líderes.' }
            ];

            const leftList = document.getElementById('left-list');
            const rightList = document.getElementById('right-list');
            const svg = document.querySelector('.match-svg');
            const resetBtn = document.getElementById('resetBtn');
            const showBtn = document.getElementById('showBtn');
            const MATCH_LINE_BREAKPOINT = 700;

            let leftItems = [];
            let rightItems = [];
            let selections = { left: null, right: null };
            let matches = {};
            let startTime = Date.now();
            let attempts = 0;
            let timerInterval;

            function linesEnabled() {
                return svg && window.innerWidth >= MATCH_LINE_BREAKPOINT;
            }

            function updateTimer() {
                document.getElementById('timer').textContent = Math.floor((Date.now() - startTime) / 1000);
            }

            function shuffle(a) {
                return a.slice().sort(() => Math.random() - 0.5);
            }

            function build() {
                leftItems = shuffle(pairs.map(p => ({ id: p.id, text: p.start })));
                rightItems = shuffle(pairs.map(p => ({ id: p.id, text: p.mid + ' — ' + p.end })));

                leftList.innerHTML = '';
                rightList.innerHTML = '';

                if (svg) {
                    svg.style.display = linesEnabled() ? 'block' : 'none';
                }

                leftItems.forEach((it) => {
                    const li = document.createElement('li');
                    li.className = 'match-item';
                    li.tabIndex = 0;
                    li.dataset.id = it.id;
                    li.dataset.side = 'left';
                    li.innerText = it.text;
                    leftList.appendChild(li);
                });

                rightItems.forEach((it) => {
                    const li = document.createElement('li');
                    li.className = 'match-target';
                    li.tabIndex = 0;
                    li.dataset.id = it.id;
                    li.dataset.side = 'right';
                    li.innerText = it.text;
                    rightList.appendChild(li);
                });

                selections = { left: null, right: null };
                matches = {};
                clearSVG();
                attachListeners();
                startTime = Date.now();
                attempts = 0;
                document.getElementById('timer').textContent = '0';
                document.getElementById('attempts').textContent = '0';
                if (timerInterval) clearInterval(timerInterval);
                timerInterval = setInterval(updateTimer, 1000);
            }

            function attachListeners() {
                document.querySelectorAll('#left-list .match-item, #right-list .match-target').forEach(el => {
                    el.onclick = () => handleSelect(el);
                    el.onkeydown = (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            handleSelect(el);
                        }
                    };
                });
            }

            function handleSelect(el) {
                const side = el.dataset.side;
                
                if (side === 'left') {
                    document.querySelectorAll('.match-item').forEach(x => x.classList.remove('selected'));
                    el.classList.add('selected');
                    selections.left = el;
                } else {
                    document.querySelectorAll('.match-target').forEach(x => x.classList.remove('selected'));
                    el.classList.add('selected');
                    selections.right = el;
                }

                if (selections.left && selections.right) {
                    attempts++;
                    document.getElementById('attempts').textContent = attempts;
                    const lid = selections.left.dataset.id;
                    const rid = selections.right.dataset.id;
                    const leftEl = selections.left;
                    const rightEl = selections.right;

                    if (lid === rid) {
                        matches[lid] = { left: leftEl, right: rightEl };
                        leftEl.classList.add('matched');
                        rightEl.classList.add('matched');
                        rightEl.classList.add('correct');
                        leftEl.classList.remove('selected');
                        rightEl.classList.remove('selected');
                        // Marcar texto como correcto (negrita y subrayado)
                        leftEl.style.visibility = 'visible';
                        leftEl.classList.add('matched');
                        rightEl.classList.add('correct');
                        leftEl.style.fontWeight = '700';
                        leftEl.style.textDecoration = 'underline';
                        rightEl.style.fontWeight = '700';
                        rightEl.style.textDecoration = 'underline';
                        drawLineBetween(leftEl, rightEl, '#000000', false); // línea negra
                        // Check if all matched
                        if (Object.keys(matches).length === pairs.length) {
                            clearInterval(timerInterval);
                            const time = Math.floor((Date.now() - startTime) / 1000);
                            setTimeout(() => alert(`¡Completado en ${time} segundos con ${attempts} intentos!`), 500);
                        }
                    } else {
                        rightEl.classList.add('incorrect');
                        leftEl.classList.add('incorrect');
                        leftEl.classList.add('shake');
                        rightEl.classList.add('shake');
                        // línea roja efímera
                        drawLineBetween(leftEl, rightEl, '#e35b5b', false);
                        setTimeout(() => {
                            rightEl.classList.remove('incorrect');
                            leftEl.classList.remove('incorrect');
                            leftEl.classList.remove('shake');
                            rightEl.classList.remove('shake');
                            clearSVG();
                        }, 700);
                    }
                    selections = { left: null, right: null };
                }
            }

            function clearSVG() {
                if (!svg) return;
                while (svg.firstChild) svg.removeChild(svg.firstChild);
            }

            function drawLineBetween(a, b, color, animate = false) {
                if (!linesEnabled()) return;

                const rectA = a.getBoundingClientRect();
                const rectB = b.getBoundingClientRect();
                const containerRect = svg.parentElement.getBoundingClientRect();
                const x1 = rectA.right - containerRect.left;
                const y1 = rectA.top + rectA.height / 2 - containerRect.top;
                const x2 = rectB.left - containerRect.left;
                const y2 = rectB.top + rectB.height / 2 - containerRect.top;

                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', x1);
                line.setAttribute('y1', y1);
                line.setAttribute('x2', x2);
                line.setAttribute('y2', y2);
                line.setAttribute('stroke', color);
                line.setAttribute('stroke-width', 3);
                line.setAttribute('stroke-linecap', 'round');
                svg.appendChild(line);
                // Si el color es rojo (incorrecto), borrar la línea tras breve tiempo
                if (color === '#e35b5b') {
                    line.style.transition = 'opacity 0.5s ease';
                    setTimeout(() => { line.style.opacity = '0'; }, 350);
                    setTimeout(() => { try { svg.removeChild(line); } catch(e){} }, 900);
                }
            }

            resetBtn.onclick = () => build();

                showBtn.onclick = () => {
                clearSVG();
                document.querySelectorAll('.match-item').forEach(x => x.style.visibility = 'visible');
                document.querySelectorAll('.match-target').forEach(x => x.classList.remove('incorrect'));
                pairs.forEach(p => {
                    const leftEl = document.querySelector(`#left-list .match-item[data-id="${p.id}"]`);
                    const rightEl = document.querySelector(`#right-list .match-target[data-id="${p.id}"]`);
                    if (leftEl && rightEl) {
                        drawLineBetween(leftEl, rightEl, '#000000');
                        rightEl.classList.add('correct');
                    }
                });
            };

            window.addEventListener('resize', () => {
                if (!svg) return;

                if (!linesEnabled()) {
                    svg.style.display = 'none';
                    clearSVG();
                    return;
                }

                svg.style.display = 'block';
                clearSVG();
                if (Object.keys(matches).length) {
                    Object.values(matches).forEach(m => drawLineBetween(m.left, m.right, '#000000'));
                }
            });

            build();
        }
        window.initMatching = initMatching;
    </script>

    <script>
        // Alinear la columna lateral al espacio en blanco a la derecha del contenedor
        // y ajustar su altura hasta donde termina el contenido principal (main)
        (function alignColumnToWhitespace() {
            const col = document.querySelector('.column-opinion');
            const container = document.querySelector('.newspaper-container');
            if (!col || !container) return;

            const BREAKPOINT = 1520;

            function resetInlineStyles() {
                col.style.position = '';
                col.style.left = '';
                col.style.top = '';
                col.style.height = '';
                col.style.bottom = '';
                col.style.overflowY = '';
            }


            function update() {
                if (window.innerWidth < BREAKPOINT) {
                    resetInlineStyles();
                    return;
                }

                const rect = container.getBoundingClientRect();
                const containerTopDoc = rect.top + window.scrollY;
                const containerRightDoc = rect.right + window.scrollX;

                // Calcular la parte inferior basada en el último bloque de contenido dentro de la columna
                let bottomDoc = null;
                const lastContents = col.querySelectorAll('.column-content');
                if (lastContents && lastContents.length) {
                    const last = lastContents[lastContents.length - 1];
                    const lastRect = last.getBoundingClientRect();
                    bottomDoc = lastRect.bottom + window.scrollY;
                }

                // Si no hay bloques específicos en la columna, usar el final del main o del contenedor
                if (!bottomDoc) {
                    const main = document.querySelector('main') || document.querySelector('#main-content');
                    if (main) {
                        const mainRect = main.getBoundingClientRect();
                        bottomDoc = mainRect.bottom + window.scrollY;
                    } else {
                        bottomDoc = rect.bottom + window.scrollY;
                    }
                }

                // Calcular altura desde la parte superior del contenedor hasta el final del contenido relevante
                let height = Math.max(0, bottomDoc - containerTopDoc);
                // Si por alguna razón resultara muy pequeña, dar un mínimo razonable
                if (height < 40) height = Math.max(40, rect.height);

                col.style.position = 'absolute';
                col.style.left = (containerRightDoc + 10) + 'px'; // separación de 10px
                col.style.top = containerTopDoc + 'px';
                // calcular bottom en base al final del último bloque relevante
                // Calcular altura directamente desde el último bloque dentro de la columna
                const cs = window.getComputedStyle(col);
                const padBot = parseFloat(cs.paddingBottom) || 0;
                const borderBot = parseFloat(cs.borderBottomWidth) || 0;
                let computedHeight = 0;
                if (lastContents && lastContents.length) {
                    const last = lastContents[lastContents.length - 1];
                    const lastCS = window.getComputedStyle(last);
                    const lastMarginBot = parseFloat(lastCS.marginBottom) || 0;
                    // offsetTop es medido desde el padding edge del contenedor (.column-opinion)
                    computedHeight = last.offsetTop + last.offsetHeight + lastMarginBot + padBot + borderBot;
                } else {
                    // fallback: usar altura basada en main/contenedor
                    computedHeight = Math.max(0, bottomDoc - containerTopDoc - padBot - borderBot);
                }
                if (computedHeight < 40) computedHeight = Math.max(40, rect.height);
                col.style.height = computedHeight + 'px';
                // asegurar que no haya bottom establecido
                col.style.bottom = '';
                // ocultar overflow para que la columna no muestre su propio scrollbar
                col.style.overflowY = 'hidden';
            }

            // Ejecutar en load (para esperar imágenes), resize y scroll
            window.addEventListener('load', update);
            window.addEventListener('resize', update);
            window.addEventListener('scroll', update);
            // Llamadas iniciales
            update();
            setTimeout(update, 350);
        })();
    </script>

</body>
</html>
